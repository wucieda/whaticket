(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{419:function(e,t,a){e.exports=a.p+"static/media/sound.9fd5812c.mp3"},454:function(e,t,a){e.exports=a.p+"static/media/wa-background.adbccee0.png"},495:function(e,t,a){e.exports=a(724)},724:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),i=a(816),s=a(3),l=a(55),u=a(56),d=a(26),m=a(41),p=a(4),f=a(770),g=a(848),b=a(728),E=a(768),h=a(776),v=a(788),O=a(789),x=a(93),k=a(465),y=a(780),j=a(426),C=a.n(j),w=a(425),A=a.n(w),T=a(427),S=a.n(T),N=a(725),R=a(765),I=a(766),M=a(769),D=a(767),_=a(407),P=a.n(_),q=a(249),W=a.n(q),L=a(408),B=a.n(L),F=a(415),U=a.n(F),z=a(411),Q=a.n(z),H=a(409),G=a.n(H),V=a(412),K=a.n(V),Y=a(410),J=a.n(Y),X=a(414),Z=a.n(X),$=a(413),ee=a.n($),te=a(312),ae=a(401),ne=a(13),re=Object(ne.a)(Object(ne.a)(Object(ne.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},auth:{toasts:{success:"Login efetuado com sucesso!"}},dashboard:{charts:{perDay:{title:"Tickets hoje: "}},messages:{inAttendance:{title:"Em Atendimento"},waiting:{title:"Aguardando"},closed:{title:"Finalizado"}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o",farewellMessage:"Mensagem de despedida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os tickets relacionados ser\xe3o perdidos.",importMessage:"Deseja importas todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},quickAnswersModal:{title:{add:"Adicionar Resposta R\xe1pida",edit:"Editar Resposta R\xe1pida"},form:{shortcut:"Atalho",message:"Resposta R\xe1pida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Resposta R\xe1pida salva com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O ticket que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Inbox"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar tickets e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum ticket encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Tickets",contacts:"Contatos",quickAnswers:"Respostas R\xe1pidas",queues:"Filas",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},queues:{title:"Filas",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os tickets dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},quickAnswers:{title:"Respostas R\xe1pidas",table:{shortcut:"Atalho",message:"Resposta R\xe1pida",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Resposta R\xe1pida"},toasts:{deleted:"Resposta R\xe1pida exclu\xedda com sucesso."},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Resposta R\xe1pida: ",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem ou tecle ''/'' para utilizar as respostas r\xe1pidas cadastrada",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{delete:"Deletar",transfer:"Transferir",confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}},messages:{inAttendance:{title:"In Service"},waiting:{title:"Waiting"},closed:{title:"Closed"}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},quickAnswersModal:{title:{add:"Add Quick Reply",edit:"Edit Quick Answer"},form:{shortcut:"Shortcut",message:"Quick Reply"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Quick Reply saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},campaignModal:{title:{add:"Add campaign",edit:"Edit campaign"},form:{name:"Name",conextion:"Select a connection*",attachment:"ADD ATTACHMENT",message:"default message",variables:"Available variables",csvfile:"IMPORT CSV FILE",sample:"download the sample file"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",fieldQueueLabel:"Transfer to queue",fieldQueuePlaceholder:"Please select a queue",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Conversations",contacts:"Contacts",quickAnswers:"Quick Answers",queues:"Queues & Chatbots",campaings:"Campaigns",reports:"Reports",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},campaigns:{title:"Campaigns",table:{name:"Campaign Name",status:"Status",createdAt:"Created at",progress:"Progress",actions:"Actions"},buttons:{add:"New Campaign"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted!"}},quickAnswers:{title:"Quick Answers",table:{shortcut:"Shortcut",message:"Quick Reply",actions:"Actions"},buttons:{add:"Add Quick Reply"},toasts:{deleted:"Quick Reply deleted successfully."},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Are you sure you want to delete this Quick Reply: ",deleteMessage:"This action cannot be undone."}},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message or press ''/'' to use the registered quick responses",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}},messages:{inAttendance:{title:"En servicio"},waiting:{title:"Esperando"},closed:{title:"Finalizado"}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},quickAnswersModal:{title:{add:"Agregar respuesta r\xe1pida",edit:"Editar respuesta r\xe1pida"},form:{shortcut:"Atajo",message:"Respuesta r\xe1pida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Respuesta r\xe1pida guardada correctamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"}},campaignModal:{title:{add:"Agregar campa\xf1a",edit:"Editar Agregar"},form:{name:"Nombre",conextion:"Seleccionar una conexion*",attachment:"A\xd1ADIR ADJUNTO",message:"mensaje predeterminado",variables:"Variables disponibles",csvfile:"IMPORTAR ARCHIVO CSV",sample:"descargar el archivo de muestra"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir a la cola",fieldQueuePlaceholder:"Seleccione una cola",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Conversaciones",contacts:"Contactos",quickAnswers:"Respuestas r\xe1pidas",queues:"colas & Chatbots",campaings:"Campa\xf1as",reports:"Reportes",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Colas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},campaigns:{title:"Campa\xf1as",table:{name:"Nombre de Campa\xf1a",status:"estado",createdAt:"Creado en",progress:"Progreso",actions:"Acciones"},buttons:{add:"New Campaign"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted!"}},quickAnswers:{title:"Respuestas r\xe1pidas",table:{shortcut:"Atajo",message:"Respuesta r\xe1pida",actions:"Acciones"},buttons:{add:"Agregar respuesta r\xe1pida"},toasts:{deleted:"Respuesta r\xe1pida eliminada correctamente"},searchPlaceholder:"Buscar ...",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar esta respuesta r\xe1pida?",deleteMessage:"Esta acci\xf3n no se puede deshacer."}},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escriba un mensaje o presione '' / '' para usar las respuestas r\xe1pidas registradas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});te.a.use(ae.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"en",ns:["translations"],resources:re});var oe=a(7),ce=a.n(oe),ie=a(10),se=a(12),le=a(43),ue=a.n(le),de=function(e){var t,a,n=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||e.response.data.error;n?te.a.exists("backendErrors.".concat(n))?d.b.error(te.a.t("backendErrors.".concat(n)),{toastId:n}):d.b.error(n,{toastId:n}):d.b.error("An error occurred!")},me=a(402),pe=a.n(me).a.create({baseURL:"http://18.224.202.185:8080/",withCredentials:!0}),fe=function(e,t){if("LOAD_WHATSAPPS"===t.type){var a=t.payload;return Object(se.a)(a)}if("UPDATE_WHATSAPPS"===t.type){var n=t.payload,r=e.findIndex((function(e){return e.id===n.id}));return-1!==r?(e[r]=n,Object(se.a)(e)):[n].concat(Object(se.a)(e))}if("UPDATE_SESSION"===t.type){var o=t.payload,c=e.findIndex((function(e){return e.id===o.id}));return-1!==c?(e[c].status=o.status,e[c].updatedAt=o.updatedAt,e[c].qrcode=o.qrcode,e[c].retries=o.retries,Object(se.a)(e)):Object(se.a)(e)}if("DELETE_WHATSAPPS"===t.type){var i=t.payload,s=e.findIndex((function(e){return e.id===i}));return-1!==s&&e.splice(s,1),Object(se.a)(e)}if("RESET"===t.type)return[]},ge=function(){var e=Object(n.useReducer)(fe,[]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){l(!0),function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/whatsapp/");case 3:t=e.sent,a=t.data,r({type:"LOAD_WHATSAPPS",payload:a}),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l(!1),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("whatsapp",(function(e){"update"===e.action&&r({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})})),e.on("whatsapp",(function(e){"delete"===e.action&&r({type:"DELETE_WHATSAPPS",payload:e.whatsappId})})),e.on("whatsappSession",(function(e){"update"===e.action&&r({type:"UPDATE_SESSION",payload:e.session})})),function(){e.disconnect()}}),[]),{whatsApps:a,loading:i}},be=Object(n.createContext)(),Ee=function(e){var t=e.children,a=ge(),n=a.loading,o=a.whatsApps;return r.a.createElement(be.Provider,{value:{whatsApps:o,loading:n}},t)},he=function(){var e=Object(u.g)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!0),i=Object(s.a)(c,2),l=i[0],m=i[1],p=Object(n.useState)({}),f=Object(s.a)(p,2),g=f[0],b=f[1];return pe.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t)),o(!0)),e}),(function(e){Promise.reject(e)})),pe.interceptors.response.use((function(e){return e}),function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n,r,c,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,403!==(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.status)||r._retry){e.next=9;break}return r._retry=!0,e.next=5,pe.post("/auth/refresh_token");case 5:return c=e.sent,(i=c.data)&&(localStorage.setItem("token",JSON.stringify(i.token)),pe.defaults.headers.Authorization="Bearer ".concat(i.token)),e.abrupt("return",pe(r));case 9:return 401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),pe.defaults.headers.Authorization=void 0,o(!1)),e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.useEffect)((function(){var e=localStorage.getItem("token");Object(ie.a)(ce.a.mark((function t(){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,pe.post("/auth/refresh_token");case 4:a=t.sent,n=a.data,pe.defaults.headers.Authorization="Bearer ".concat(n.token),o(!0),b(n.user),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),de(t.t0);case 14:m(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("user",(function(e){"update"===e.action&&e.user.id===g.id&&b(e.user)})),function(){e.disconnect()}}),[g]),{isAuth:r,user:g,loading:l,handleLogin:function(){var t=Object(ie.a)(ce.a.mark((function t(a){var n,r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,pe.post("/auth/login",a);case 4:n=t.sent,r=n.data,localStorage.setItem("token",JSON.stringify(r.token)),pe.defaults.headers.Authorization="Bearer ".concat(r.token),b(r.user),o(!0),d.b.success(te.a.t("auth.toasts.success")),e.push("/tickets"),m(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),de(t.t0),m(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),handleLogout:function(){var t=Object(ie.a)(ce.a.mark((function t(){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,pe.delete("/auth/logout");case 4:o(!1),b({}),localStorage.removeItem("token"),pe.defaults.headers.Authorization=void 0,m(!1),e.push("/login"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),de(t.t0),m(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}()}},ve=Object(n.createContext)(),Oe=function(e){var t=e.children,a=he(),n=a.loading,o=a.user,c=a.isAuth,i=a.handleLogin,s=a.handleLogout;return r.a.createElement(ve.Provider,{value:{loading:n,user:o,isAuth:c,handleLogin:i,handleLogout:s}},t)},xe={user:{static:[]},admin:{static:["drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact"]}},ke=function(e){var t=e.role,a=e.perform,n=e.data,r=e.yes,o=e.no;return function(e,t,a){var n=xe[e];if(!n)return!1;var r=n.static;if(r&&r.includes(t))return!0;var o=n.dynamic;if(o){var c=o[t];return!!c&&c(a)}return!1}(t,a,n)?r():o()};function ye(e){var t=e.icon,a=e.primary,n=e.to,o=e.className,c=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(l.b,Object.assign({to:n,ref:t},e))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(N.a,{button:!0,component:c,className:o},t?r.a.createElement(R.a,null,t):null,r.a.createElement(I.a,{primary:a})))}ke.defaultProps={yes:function(){return null},no:function(){return null}};var je=function(e){var t=e.drawerClose,a=Object(n.useContext)(be).whatsApps,o=Object(n.useContext)(ve).user,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){a.length>0&&(a.filter((function(e){return"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status})).length>0?u(!0):u(!1))}),2e3);return function(){return clearTimeout(e)}}),[a]),r.a.createElement("div",{onClick:t},r.a.createElement(ye,{to:"/",primary:"Dashboard",icon:r.a.createElement(P.a,null)}),r.a.createElement(ye,{to:"/connections",primary:te.a.t("mainDrawer.listItems.connections"),icon:r.a.createElement(D.a,{badgeContent:l?"!":0,color:"error"},r.a.createElement(B.a,null))}),r.a.createElement(ye,{to:"/tickets",primary:te.a.t("mainDrawer.listItems.tickets"),icon:r.a.createElement(W.a,null)}),r.a.createElement(ye,{to:"/contacts",primary:te.a.t("mainDrawer.listItems.contacts"),icon:r.a.createElement(G.a,null)}),r.a.createElement(ye,{to:"/quickAnswers",primary:te.a.t("mainDrawer.listItems.quickAnswers"),icon:r.a.createElement(J.a,null)}),r.a.createElement(ke,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement(M.a,{inset:!0},te.a.t("mainDrawer.listItems.administration")),r.a.createElement(ye,{to:"/users",primary:te.a.t("mainDrawer.listItems.users"),icon:r.a.createElement(Q.a,null)}),r.a.createElement(ye,{to:"/queues",primary:te.a.t("mainDrawer.listItems.queues"),icon:r.a.createElement(K.a,null)}),r.a.createElement(ye,{to:"/campaigns",primary:te.a.t("mainDrawer.listItems.campaings"),icon:r.a.createElement(ee.a,null)}),r.a.createElement(ye,{to:"/",primary:te.a.t("mainDrawer.listItems.reports"),icon:r.a.createElement(Z.a,null)}),r.a.createElement(ye,{to:"/settings",primary:te.a.t("mainDrawer.listItems.settings"),icon:r.a.createElement(U.a,null)}))}}))},Ce=a(832),we=a(416),Ae=a(775),Te=a(420),Se=a.n(Te),Ne=a(841),Re=a(842),Ie=a(272),Me=a(774),De=a(840),_e=a(145),Pe=a(771),qe=a(772),We=["loading","children"],Le=Object(f.a)((function(e){return{button:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Be=function(e){var t=e.loading,a=e.children,n=Object(_e.a)(e,We),o=Le();return r.a.createElement(Pe.a,Object.assign({className:o.button,disabled:t},n),a,t&&r.a.createElement(qe.a,{size:24,className:o.buttonProgress}))},Fe=a(417),Ue=["children"],ze=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qe=["a","b","strong","em","u","code","del"],He=function(e){var t=e.children,a=Object(_e.a)(e,Ue);return r.a.createElement("a",Object.assign({},a,{target:"_blank",rel:"noopener noreferrer"}),t)},Ge=function(e){var t=e.children,a=/\*(.*?)\*/g,n=/~(.*?)~/g;t&&a.test(t)&&(t=t.replace(a,"**$1**")),t&&n.test(t)&&(t=t.replace(n,"~~$1~~"));var o=r.a.useMemo((function(){var e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:He}}};return ze.forEach((function(t){Qe.includes(t)||(e.overrides[t]=function(e){return e.children||null})})),e}),[]);return t?r.a.createElement(Fe.a,{options:o},t):null},Ve=a(773),Ke=Object(f.a)((function(e){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:Ie.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"}}})),Ye=function(e){var t,a,o,c=e.ticket,i=Ke(),l=Object(u.g)(),d=Object(n.useState)(!1),f=Object(s.a)(d,2),g=f[0],b=f[1],h=Object(u.h)().ticketId,v=Object(n.useRef)(!0),O=Object(n.useContext)(ve).user;Object(n.useEffect)((function(){return function(){v.current=!1}}),[]);var k=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,pe.put("/tickets/".concat(t),{status:"open",userId:null===O||void 0===O?void 0:O.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),b(!1),de(e.t0);case 10:v.current&&b(!1),l.push("/tickets/".concat(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,{key:c.id},r.a.createElement(N.a,{dense:!0,button:!0,onClick:function(e){var t;"pending"!==c.status&&(t=c.id,l.push("/tickets/".concat(t)))},selected:h&&+h===c.id,className:Object(p.a)(i.ticket,Object(m.a)({},i.pendingTicket,"pending"===c.status))},r.a.createElement(Ve.a,{arrow:!0,placement:"right",title:(null===(t=c.queue)||void 0===t?void 0:t.name)||"Sem fila"},r.a.createElement("span",{style:{backgroundColor:(null===(a=c.queue)||void 0===a?void 0:a.color)||"#7C7C7C"},className:i.ticketQueueColor})),r.a.createElement(Me.a,null,r.a.createElement(De.a,{src:null===c||void 0===c||null===(o=c.contact)||void 0===o?void 0:o.profilePicUrl})),r.a.createElement(I.a,{disableTypography:!0,primary:r.a.createElement("span",{className:i.contactNameWrapper},r.a.createElement(x.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},c.contact.name),"closed"===c.status&&r.a.createElement(D.a,{className:i.closedBadge,badgeContent:"closed",color:"primary"}),c.lastMessage&&r.a.createElement(x.a,{className:i.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Ne.a)(Object(Re.a)(c.updatedAt),new Date)?r.a.createElement(r.a.Fragment,null,Object(Ce.a)(Object(Re.a)(c.updatedAt),"HH:mm")):r.a.createElement(r.a.Fragment,null,Object(Ce.a)(Object(Re.a)(c.updatedAt),"dd/MM/yyyy")))),secondary:r.a.createElement("span",{className:i.contactNameWrapper},r.a.createElement(x.a,{className:i.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},c.lastMessage?r.a.createElement(Ge,null,c.lastMessage):r.a.createElement("br",null)),r.a.createElement(D.a,{className:i.newMessagesCount,badgeContent:c.unreadMessages,classes:{badge:i.badgeStyle}}))}),"pending"===c.status&&r.a.createElement(Be,{color:"primary",variant:"contained",className:i.acceptButton,size:"small",loading:g,onClick:function(e){return k(c.id)}},te.a.t("ticketsList.buttons.accept"))),r.a.createElement(E.a,{variant:"inset",component:"li"}))},Je=function(e){var t=e.searchParam,a=e.pageNumber,r=e.status,o=e.date,c=e.showAll,i=e.queueIds,l=e.withUnreadMessages,u=Object(n.useState)(!0),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),b=g[0],E=g[1],h=Object(n.useState)([]),v=Object(s.a)(h,2),O=v[0],x=v[1];return Object(n.useEffect)((function(){p(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var n,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/tickets",{params:{searchParam:t,pageNumber:a,status:r,date:o,showAll:c,queueIds:i,withUnreadMessages:l}});case 3:n=e.sent,s=n.data,x(s.tickets),E(s.hasMore),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1),de(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[t,a,r,o,c,i,l]),{tickets:O,loading:m,hasMore:b}},Xe=a(419),Ze=a.n(Xe),$e=Object(f.a)((function(e){return{tabContainer:Object(ne.a)({overflowY:"auto",maxHeight:350},e.scrollbarStyles),popoverPaper:Object(m.a)({width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1)},e.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),et=function(){var e=$e(),t=Object(u.g)(),a=Object(n.useContext)(ve).user,o=+t.location.pathname.split("/")[2],c=Object(n.useRef)(o),i=Object(n.useRef)(),l=Object(n.useState)(!1),d=Object(s.a)(l,2),m=d[0],p=d[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),E=g[0],v=g[1],O=Object(n.useState)([]),x=Object(s.a)(O,2)[1],k=Je({withUnreadMessages:"true"}).tickets,y=Object(we.a)(Ze.a),j=Object(s.a)(y,1)[0],C=Object(n.useRef)(),w=Object(n.useRef)(t);Object(n.useEffect)((function(){C.current=j,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[j]),Object(n.useEffect)((function(){v(k)}),[k]),Object(n.useEffect)((function(){c.current=o}),[o]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("connect",(function(){return e.emit("joinNotification")})),e.on("ticket",(function(e){"updateUnread"!==e.action&&"delete"!==e.action||(v((function(t){var a=t.findIndex((function(t){return t.id===e.ticketId}));return-1!==a?(t.splice(a,1),Object(se.a)(t)):t})),x((function(t){var a=t.findIndex((function(t){return t.tag===String(e.ticketId)}));return-1!==a?(t[a].close(),t.splice(a,1),Object(se.a)(t)):t})))})),e.on("appMessage",(function(e){if("create"===e.action&&!e.message.read&&(e.ticket.userId===(null===a||void 0===a?void 0:a.id)||!e.ticket.userId)){if(v((function(t){var a=t.findIndex((function(t){return t.id===e.ticket.id}));return-1!==a?(t[a]=e.ticket,Object(se.a)(t)):[e.ticket].concat(Object(se.a)(t))})),e.message.ticketId===c.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===a||void 0===a?void 0:a.id)||e.ticket.isGroup)return;A(e)}})),function(){e.disconnect()}}),[a]);var A=function(e){var t=e.message,a=e.contact,n=e.ticket,r={body:"".concat(t.body," - ").concat(Object(Ce.a)(new Date,"HH:mm")),icon:a.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat(te.a.t("tickets.notification.message")," ").concat(a.name),r);o.onclick=function(e){e.preventDefault(),window.focus(),w.current.push("/tickets/".concat(n.id))},x((function(e){var t=e.findIndex((function(e){return e.tag===o.tag}));return-1!==t?(e[t]=o,Object(se.a)(e)):[o].concat(Object(se.a)(e))})),C.current()},T=function(){p(!1)},S=function(e){var t=e.children;return r.a.createElement("div",{onClick:T},t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onClick:function(){p((function(e){return!e}))},buttonRef:i,"aria-label":"Open Notifications",color:"inherit"},r.a.createElement(D.a,{badgeContent:E.length,color:"secondary"},r.a.createElement(Se.a,null))),r.a.createElement(Ae.a,{disableScrollLock:!0,open:m,anchorEl:i.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:e.popoverPaper},onClose:T},r.a.createElement(h.a,{dense:!0,className:e.tabContainer},0===E.length?r.a.createElement(N.a,null,r.a.createElement(I.a,null,te.a.t("notifications.noTickets"))):E.map((function(e){return r.a.createElement(S,{key:e.id},r.a.createElement(Ye,{ticket:e}))})))))},tt=a(34),at=a(23),nt=a(781),rt=a(782),ot=a(783),ct=a(843),it=a(784),st=a(777),lt=a(845),ut=a(836),dt=a(787),mt=a(785),pt=a(786),ft=a(847),gt=Object(f.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),bt=function(e){var t=e.selectedQueueIds,a=e.onChange,o=gt(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],u=i[1];Object(n.useEffect)((function(){Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/queue");case 3:t=e.sent,a=t.data,u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),de(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);return r.a.createElement("div",{style:{marginTop:6}},r.a.createElement(st.a,{fullWidth:!0,margin:"dense",variant:"outlined"},r.a.createElement(lt.a,null,te.a.t("queueSelect.inputLabel")),r.a.createElement(ut.a,{multiple:!0,labelWidth:60,value:t,onChange:function(e){a(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(e){var t=l.find((function(t){return t.id===e}));return t?r.a.createElement(ft.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:o.chip}):null})))}},l.map((function(e){return r.a.createElement(y.a,{key:e.id,value:e.id},e.name)})))))},Et=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),ht=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:tt.b().min(5,"Too Short!").max(50,"Too Long!"),email:tt.b().email("Invalid email").required("Required")}),vt=function(e){var t=e.open,a=e.onClose,o=e.userId,c=Et(),i={name:"",email:"",password:"",profile:"user"},l=Object(n.useContext)(ve).user,u=Object(n.useState)(i),m=Object(s.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)([]),E=Object(s.a)(g,2),h=E[0],v=E[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),k=x[0],j=x[1];Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe.get("/users/".concat(o));case 5:a=e.sent,n=a.data,f((function(e){return Object(ne.a)(Object(ne.a)({},e),n)})),r=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),v(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),de(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var C=function(){a(),f(i)},w=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(ne.a)(Object(ne.a)({},t),{},{queueIds:h}),e.prev=1,!o){e.next=7;break}return e.next=5,pe.put("/users/".concat(o),a);case 5:e.next=9;break;case 7:return e.next=9,pe.post("/users",a);case 9:d.b.success(te.a.t("userModal.success")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),de(e.t0);case 15:C();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(nt.a,{open:t,onClose:C,maxWidth:"xs",fullWidth:!0,scroll:"paper"},r.a.createElement(rt.a,{id:"form-dialog-title"},"".concat(o?te.a.t("userModal.title.edit"):te.a.t("userModal.title.add"))),r.a.createElement(at.d,{initialValues:p,enableReinitialize:!0,validationSchema:ht,onSubmit:function(e,t){setTimeout((function(){w(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,a=e.errors,n=e.isSubmitting;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(at.a,{as:ct.a,label:te.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}),r.a.createElement(at.a,{as:ct.a,name:"password",variant:"outlined",margin:"dense",label:te.a.t("userModal.form.password"),error:t.password&&Boolean(a.password),helperText:t.password&&a.password,type:k?"text":"password",InputProps:{endAdornment:r.a.createElement(it.a,{position:"end"},r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return j((function(e){return!e}))}},k?r.a.createElement(mt.a,null):r.a.createElement(pt.a,null)))},fullWidth:!0})),r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(at.a,{as:ct.a,label:te.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(a.email),helperText:t.email&&a.email,variant:"outlined",margin:"dense",fullWidth:!0}),r.a.createElement(st.a,{variant:"outlined",className:c.formControl,margin:"dense"},r.a.createElement(ke,{role:l.profile,perform:"user-modal:editProfile",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{id:"profile-selection-input-label"},te.a.t("userModal.form.profile")),r.a.createElement(at.a,{as:ut.a,label:te.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},r.a.createElement(y.a,{value:"admin"},"Admin"),r.a.createElement(y.a,{value:"user"},"User")))}}))),r.a.createElement(ke,{role:l.profile,perform:"user-modal:editQueues",yes:function(){return r.a.createElement(bt,{selectedQueueIds:h,onChange:function(e){return v(e)}})}})),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:C,color:"secondary",disabled:n,variant:"outlined"},te.a.t("userModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?te.a.t("userModal.buttons.okEdit"):te.a.t("userModal.buttons.okAdd")),n&&r.a.createElement(qe.a,{size:24,className:c.buttonProgress}))))}))))},Ot=a(729),xt=Object(f.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),kt=function(){var e=xt();return r.a.createElement(Ot.a,{className:e.backdrop,open:!0},r.a.createElement(qe.a,{color:"inherit"}))},yt=Object(f.a)((function(e){return{root:Object(m.a)({display:"flex",height:"100vh"},e.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(m.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),jt=function(e){var t=e.children,a=yt(),o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(null),d=Object(s.a)(u,2),m=d[0],f=d[1],j=Object(n.useState)(!1),w=Object(s.a)(j,2),T=w[0],N=w[1],R=Object(n.useContext)(ve),I=R.handleLogout,M=R.loading,D=Object(n.useState)(!1),_=Object(s.a)(D,2),P=_[0],q=_[1],W=Object(n.useState)("permanent"),L=Object(s.a)(W,2),B=L[0],F=L[1],U=Object(n.useContext)(ve).user;Object(n.useEffect)((function(){document.body.offsetWidth>600&&q(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?F("temporary"):F("permanent")}),[P]);var z=function(){f(null),N(!1)};return M?r.a.createElement(kt,null):r.a.createElement("div",{className:a.root},r.a.createElement(g.a,{variant:B,className:P?a.drawerPaper:a.drawerPaperClose,classes:{paper:Object(p.a)(a.drawerPaper,!P&&a.drawerPaperClose)},open:P},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(b.a,{onClick:function(){return q(!P)}},r.a.createElement(A.a,null))),r.a.createElement(E.a,null),r.a.createElement(h.a,null,r.a.createElement(je,{drawerClose:function(){document.body.offsetWidth<600&&q(!1)}})),r.a.createElement(E.a,null)),r.a.createElement(vt,{open:i,onClose:function(){return l(!1)},userId:null===U||void 0===U?void 0:U.id}),r.a.createElement(v.a,{position:"absolute",className:Object(p.a)(a.appBar,P&&a.appBarShift),color:"primary"},r.a.createElement(O.a,{variant:"dense",className:a.toolbar},r.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return q(!P)},className:Object(p.a)(a.menuButton,P&&a.menuButtonHidden)},r.a.createElement(C.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"OfferHouseS"),U.id&&r.a.createElement(et,null),r.a.createElement("div",null,r.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){f(e.currentTarget),N(!0)},color:"inherit"},r.a.createElement(S.a,null)),r.a.createElement(k.a,{id:"menu-appbar",anchorEl:m,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:T,onClose:z},r.a.createElement(y.a,{onClick:function(){l(!0),z()}},te.a.t("mainDrawer.appBar.user.profile")),r.a.createElement(y.a,{onClick:function(){z(),I()}},te.a.t("mainDrawer.appBar.user.logout")))))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),t||null))},Ct=a(276),wt=a(797),At=a(798),Tt=a(50),St=a(791),Nt=a(792),Rt=a(796),It=a(441),Mt=a(442),Dt=a(98),_t=a(464),Pt=a(790),qt=function(e){return r.a.createElement(x.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},Wt=function(){var e=Object(Tt.a)(),t=Object(n.useRef)((new Date).toISOString()),a=Je({date:t.current}).tickets,o=Object(n.useState)([{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0}]),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){l((function(e){var t=Object(se.a)(e);return t.forEach((function(e){a.forEach((function(t){Object(Ce.a)(Object(Pt.a)(Object(Re.a)(t.createdAt)),"HH:mm")===e.time&&e.amount++}))})),t}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,null,"".concat(te.a.t("dashboard.charts.perDay.title")).concat(a.length)),r.a.createElement(St.a,null,r.a.createElement(Nt.a,{data:i,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(Rt.a,{strokeDasharray:"3 3"}),r.a.createElement(It.a,{dataKey:"time",stroke:e.palette.text.secondary}),r.a.createElement(Mt.a,{type:"number",allowDecimals:!1,stroke:e.palette.text.secondary},r.a.createElement(Dt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Tickets")),r.a.createElement(_t.a,{dataKey:"amount",fill:e.palette.primary.main}))))},Lt=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"}}})),Bt=function(){var e=Lt(),t=Object(n.useContext)(ve).user,a=[];t.queues&&t.queues.length>0&&(a=t.queues.map((function(e){return e.id})));var o=function(e,t,n){return Je({status:e,showAll:t,withUnreadMessages:n,queueIds:JSON.stringify(a)}).tickets.length};return r.a.createElement("div",null,r.a.createElement(wt.a,{maxWidth:"lg",className:e.container},r.a.createElement(At.a,{container:!0,spacing:3},r.a.createElement(At.a,{item:!0,xs:4},r.a.createElement(Ct.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},r.a.createElement(x.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},te.a.t("dashboard.messages.inAttendance.title")),r.a.createElement(At.a,{item:!0},r.a.createElement(x.a,{component:"h1",variant:"h4"},o("open","true","false"))))),r.a.createElement(At.a,{item:!0,xs:4},r.a.createElement(Ct.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},r.a.createElement(x.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},te.a.t("dashboard.messages.waiting.title")),r.a.createElement(At.a,{item:!0},r.a.createElement(x.a,{component:"h1",variant:"h4"},o("pending","true","false"))))),r.a.createElement(At.a,{item:!0,xs:4},r.a.createElement(Ct.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},r.a.createElement(x.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},te.a.t("dashboard.messages.closed.title")),r.a.createElement(At.a,{item:!0},r.a.createElement(x.a,{component:"h1",variant:"h4"},o("closed","true","false"))))),r.a.createElement(At.a,{item:!0,xs:12},r.a.createElement(Ct.a,{className:e.fixedHeightPaper},r.a.createElement(Wt,null))))))},Ft=a(130),Ut=a.n(Ft),zt=a(472),Qt=a(835),Ht=a(801),Gt=a(443),Vt=a.n(Gt),Kt=a(444),Yt=a.n(Kt),Jt=a(802),Xt=a(803),Zt=a(799),$t=a(839),ea=a(184),ta=a.n(ea),aa=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),na=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:tt.b().min(8,"Too Short!").max(50,"Too Long!"),email:tt.b().email("Invalid email")}),ra=function(e){var t=e.open,a=e.onClose,o=e.contactId,c=e.initialValues,i=e.onSave,l=aa(),u=Object(n.useRef)(!0),m={name:"",number:"",email:""},p=Object(n.useState)(m),f=Object(s.a)(p,2),g=f[0],E=f[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&E((function(e){return Object(ne.a)(Object(ne.a)({},e),c)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,pe.get("/contacts/".concat(o));case 6:t=e.sent,a=t.data,u.current&&E(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),de(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,c]);var h=function(){a(),E(m)},v=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,pe.put("/contacts/".concat(o),t);case 4:h(),e.next=13;break;case 7:return e.next=9,pe.post("/contacts",t);case 9:a=e.sent,n=a.data,i&&i(n),h();case 13:d.b.success(te.a.t("contactModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),de(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(nt.a,{open:t,onClose:h,maxWidth:"lg",scroll:"paper"},r.a.createElement(rt.a,{id:"form-dialog-title"},"".concat(o?te.a.t("contactModal.title.edit"):te.a.t("contactModal.title.add"))),r.a.createElement(at.d,{initialValues:g,enableReinitialize:!0,validationSchema:na,onSubmit:function(e,t){setTimeout((function(){v(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.isSubmitting;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement(x.a,{variant:"subtitle1",gutterBottom:!0},te.a.t("contactModal.form.mainInfo")),r.a.createElement(at.a,{as:ct.a,label:te.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(at.a,{as:ct.a,label:te.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(a.number),helperText:n.number&&a.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),r.a.createElement("div",null,r.a.createElement(at.a,{as:ct.a,label:te.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(a.email),helperText:n.email&&a.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),r.a.createElement(x.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},te.a.t("contactModal.form.extraInfo")),r.a.createElement(at.b,{name:"extraInfo"},(function(e){var a=e.push,n=e.remove;return r.a.createElement(r.a.Fragment,null,t.extraInfo&&t.extraInfo.length>0&&t.extraInfo.map((function(e,t){return r.a.createElement("div",{className:l.extraAttr,key:"".concat(t,"-info")},r.a.createElement(at.a,{as:ct.a,label:te.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(t,"].name"),variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(at.a,{as:ct.a,label:te.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(t,"].value"),variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(b.a,{size:"small",onClick:function(){return n(t)}},r.a.createElement(ta.a,null)))})),r.a.createElement("div",{className:l.extraAttr},r.a.createElement(Pe.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return a({name:"",value:""})}},"+ ".concat(te.a.t("contactModal.buttons.addExtraInfo")))))}))),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:h,color:"secondary",disabled:c,variant:"outlined"},te.a.t("contactModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:l.btnWrapper},"".concat(o?te.a.t("contactModal.buttons.okEdit"):te.a.t("contactModal.buttons.okAdd")),c&&r.a.createElement(qe.a,{size:24,className:l.buttonProgress}))))}))))},oa=Object(Zt.a)({trim:!0}),ca=function(e){var t=e.modalOpen,a=e.onClose,o=Object(u.g)(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],g=p[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),h=E[0],v=E[1],O=Object(n.useState)(null),x=Object(s.a)(O,2),k=x[0],y=x[1],j=Object(n.useState)({}),C=Object(s.a)(j,2),w=C[0],A=C[1],T=Object(n.useState)(!1),S=Object(s.a)(T,2),N=S[0],R=S[1],I=Object(n.useContext)(ve).user;Object(n.useEffect)((function(){if(t&&!(h.length<3)){g(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("contacts",{params:{searchParam:h}});case 3:t=e.sent,a=t.data,d(a.contacts),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(!1),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}g(!1)}),[h,t]);var M=function(){a(),v(""),y(null)},D=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.prev=3,e.next=6,pe.post("/tickets",{contactId:t,userId:I.id,status:"open"});case 6:a=e.sent,n=a.data,o.push("/tickets/".concat(n.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),de(e.t0);case 14:g(!1),M();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,{open:N,initialValues:w,onClose:function(){R(!1)},onSave:function(e){D(e.id)}}),r.a.createElement(nt.a,{open:t,onClose:M},r.a.createElement(rt.a,{id:"form-dialog-title"},te.a.t("newTicketModal.title")),r.a.createElement(ot.a,{dividers:!0},r.a.createElement($t.a,{options:l,loading:f,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name)},renderOption:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(te.a.t("newTicketModal.add")," ").concat(e.name)},filterOptions:function(e,t){var a=oa(e,t);return""!==t.inputValue&&!f&&h.length>=3&&a.push({name:"".concat(t.inputValue)}),a},onChange:function(e,t){return function(e,t){(null===t||void 0===t?void 0:t.number)?y(t):(null===t||void 0===t?void 0:t.name)&&(A({name:t.name}),R(!0))}(0,t)},renderInput:function(e){return r.a.createElement(ct.a,Object.assign({},e,{label:te.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(e){return v(e.target.value)},onKeyPress:function(e){!f&&k&&"Enter"===e.key&&D(k.id)},InputProps:Object(ne.a)(Object(ne.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,f?r.a.createElement(qe.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:M,color:"secondary",disabled:f,variant:"outlined"},te.a.t("newTicketModal.buttons.cancel")),r.a.createElement(Be,{variant:"contained",type:"button",disabled:!k,onClick:function(){return D(k.id)},color:"primary",loading:f},te.a.t("newTicketModal.buttons.ok")))))},ia=a(800),sa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{dense:!0},r.a.createElement(Me.a,null,r.a.createElement(ia.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(I.a,{primary:r.a.createElement(ia.a,{animation:"wave",height:20,width:60}),secondary:r.a.createElement(ia.a,{animation:"wave",height:20,width:90})})),r.a.createElement(E.a,{variant:"inset"}),r.a.createElement(N.a,{dense:!0},r.a.createElement(Me.a,null,r.a.createElement(ia.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(I.a,{primary:r.a.createElement(ia.a,{animation:"wave",height:20,width:70}),secondary:r.a.createElement(ia.a,{animation:"wave",height:20,width:120})})),r.a.createElement(E.a,{variant:"inset"}),r.a.createElement(N.a,{dense:!0},r.a.createElement(Me.a,null,r.a.createElement(ia.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(I.a,{primary:r.a.createElement(ia.a,{animation:"wave",height:20,width:60}),secondary:r.a.createElement(ia.a,{animation:"wave",height:20,width:90})})),r.a.createElement(E.a,{variant:"inset"}))},la=Object(f.a)((function(e){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(ne.a)(Object(ne.a)({flex:1,overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),ua=function(e,t){if("LOAD_TICKETS"===t.type)return t.payload.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?(e[a]=t,t.unreadMessages>0&&e.unshift(e.splice(a,1)[0])):e.push(t)})),Object(se.a)(e);if("RESET_UNREAD"===t.type){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));return-1!==n&&(e[n].unreadMessages=0),Object(se.a)(e)}if("UPDATE_TICKET"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?e[o]=r:e.unshift(r),Object(se.a)(e)}if("UPDATE_TICKET_UNREAD_MESSAGES"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c.id}));return-1!==i?(e[i]=c,e.unshift(e.splice(i,1)[0])):e.unshift(c),Object(se.a)(e)}if("UPDATE_TICKET_CONTACT"===t.type){var s=t.payload,l=e.findIndex((function(e){return e.contactId===s.id}));return-1!==l&&(e[l].contact=s),Object(se.a)(e)}if("DELETE_TICKET"===t.type){var u=t.payload,d=e.findIndex((function(e){return e.id===u}));return-1!==d&&e.splice(d,1),Object(se.a)(e)}return"RESET"===t.type?[]:void 0},da=function(e){var t=e.status,a=e.searchParam,o=e.showAll,c=e.selectedQueueIds,i=e.updateCount,l=e.style,u=la(),d=Object(n.useState)(1),m=Object(s.a)(d,2),p=m[0],f=m[1],g=Object(n.useReducer)(ua,[]),b=Object(s.a)(g,2),E=b[0],v=b[1],O=Object(n.useContext)(ve).user;Object(n.useEffect)((function(){v({type:"RESET"}),f(1)}),[t,a,v,o,c]);var x=Je({pageNumber:p,searchParam:a,status:t,showAll:o,queueIds:JSON.stringify(c)}),k=x.tickets,y=x.hasMore,j=x.loading;Object(n.useEffect)((function(){(t||a)&&v({type:"LOAD_TICKETS",payload:k})}),[k,t,a]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/"),a=function(e){return(!e.userId||e.userId===(null===O||void 0===O?void 0:O.id)||o)&&(!e.queueId||c.indexOf(e.queueId)>-1)};return e.on("connect",(function(){t?e.emit("joinTickets",t):e.emit("joinNotification")})),e.on("ticket",(function(e){var t;"updateUnread"===e.action&&v({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&a(e.ticket)&&v({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((t=e.ticket).queueId&&-1===c.indexOf(t.queueId))&&v({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&v({type:"DELETE_TICKET",payload:e.ticketId})})),e.on("appMessage",(function(e){"create"===e.action&&a(e.ticket)&&v({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})})),e.on("contact",(function(e){"update"===e.action&&v({type:"UPDATE_TICKET_CONTACT",payload:e.contact})})),function(){e.disconnect()}}),[t,o,O,c]),Object(n.useEffect)((function(){"function"===typeof i&&i(E.length)}),[E]);return r.a.createElement(Ct.a,{className:u.ticketsListWrapper,style:l},r.a.createElement(Ct.a,{square:!0,name:"closed",elevation:0,className:u.ticketsList,onScroll:function(e){if(y&&!j){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&f((function(e){return e+1}))}}},r.a.createElement(h.a,{style:{paddingTop:0}},0!==E.length||j?r.a.createElement(r.a.Fragment,null,E.map((function(e){return r.a.createElement(Ye,{ticket:e,key:e.id})}))):r.a.createElement("div",{className:u.noTicketsDiv},r.a.createElement("span",{className:u.noTicketsTitle},te.a.t("ticketsList.noTicketsTitle")),r.a.createElement("p",{className:u.noTicketsText},te.a.t("ticketsList.noTicketsMessage"))),j&&r.a.createElement(sa,null))))},ma=["children","value","name"],pa=function(e){var t=e.children,a=e.value,n=e.name,o=Object(_e.a)(e,ma);return a===n?r.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),r.a.createElement(r.a.Fragment,null,t)):null},fa=a(838),ga=function(e){var t=e.userQueues,a=e.selectedQueueIds,n=void 0===a?[]:a,o=e.onChange;return r.a.createElement("div",{style:{width:120,marginTop:-4}},r.a.createElement(st.a,{fullWidth:!0,margin:"dense"},r.a.createElement(ut.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(e){o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return te.a.t("ticketsQueueSelect.placeholder")}},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){return r.a.createElement(y.a,{dense:!0,key:e.id,value:e.id},r.a.createElement(fa.a,{style:{color:e.color},size:"small",color:"primary",checked:n.indexOf(e.id)>-1}),r.a.createElement(I.a,{primary:e.name}))})))))},ba=Object(f.a)((function(e){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:e.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}})),Ea=function(){var e,t=ba(),a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)("open"),u=Object(s.a)(l,2),d=u[0],m=u[1],p=Object(n.useState)("open"),f=Object(s.a)(p,2),g=f[0],b=f[1],E=Object(n.useState)(!1),h=Object(s.a)(E,2),v=h[0],O=h[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),y=k[0],j=k[1],C=Object(n.useRef)(),w=Object(n.useContext)(ve).user,A=Object(n.useState)(0),T=Object(s.a)(A,2),S=T[0],N=T[1],R=Object(n.useState)(0),I=Object(s.a)(R,2),M=I[0],_=I[1],P=w.queues.map((function(e){return e.id})),q=Object(n.useState)(P||[]),W=Object(s.a)(q,2),L=W[0],B=W[1];Object(n.useEffect)((function(){"ADMIN"===w.profile.toUpperCase()&&j(!0)}),[]),Object(n.useEffect)((function(){"search"===d&&C.current.focus()}),[d]);var F=function(e){if(g!==e)return{width:0,height:0}};return r.a.createElement(Ct.a,{elevation:0,variant:"outlined",className:t.ticketsWrapper},r.a.createElement(ca,{modalOpen:v,onClose:function(e){return O(!1)}}),r.a.createElement(Ct.a,{elevation:0,square:!0,className:t.tabsHeader},r.a.createElement(Qt.a,{value:d,onChange:function(e,t){m(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},r.a.createElement(Ht.a,{value:"open",icon:r.a.createElement(Vt.a,null),label:te.a.t("tickets.tabs.open.title"),classes:{root:t.tab}}),r.a.createElement(Ht.a,{value:"closed",icon:r.a.createElement(Yt.a,null),label:te.a.t("tickets.tabs.closed.title"),classes:{root:t.tab}}),r.a.createElement(Ht.a,{value:"search",icon:r.a.createElement(Ut.a,null),label:te.a.t("tickets.tabs.search.title"),classes:{root:t.tab}}))),r.a.createElement(Ct.a,{square:!0,elevation:0,className:t.ticketOptionsBox},"search"===d?r.a.createElement("div",{className:t.serachInputWrapper},r.a.createElement(Ut.a,{className:t.searchIcon}),r.a.createElement(zt.a,{className:t.searchInput,inputRef:C,placeholder:te.a.t("tickets.search.placeholder"),type:"search",onChange:function(t){var a=t.target.value.toLowerCase();if(clearTimeout(e),""===a)return i(a),void m("open");e=setTimeout((function(){i(a)}),500)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{variant:"outlined",color:"primary",onClick:function(){return O(!0)}},te.a.t("ticketsManager.buttons.newTicket")),r.a.createElement(ke,{role:w.profile,perform:"tickets-manager:showall",yes:function(){return r.a.createElement(Jt.a,{label:te.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:r.a.createElement(Xt.a,{size:"small",checked:y,onChange:function(){return j((function(e){return!e}))},name:"showAllTickets",color:"primary"})})}})),r.a.createElement(ga,{style:{marginLeft:6},selectedQueueIds:L,userQueues:null===w||void 0===w?void 0:w.queues,onChange:function(e){return B(e)}})),r.a.createElement(pa,{value:d,name:"open",className:t.ticketsWrapper},r.a.createElement(Qt.a,{value:g,onChange:function(e,t){b(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(Ht.a,{label:r.a.createElement(D.a,{className:t.badge,badgeContent:S,color:"primary"},te.a.t("ticketsList.assignedHeader")),value:"open"}),r.a.createElement(Ht.a,{label:r.a.createElement(D.a,{className:t.badge,badgeContent:M,color:"secondary"},te.a.t("ticketsList.pendingHeader")),value:"pending"})),r.a.createElement(Ct.a,{className:t.ticketsWrapper},r.a.createElement(da,{status:"open",showAll:y,selectedQueueIds:L,updateCount:function(e){return N(e)},style:F("open")}),r.a.createElement(da,{status:"pending",selectedQueueIds:L,updateCount:function(e){return _(e)},style:F("pending")}))),r.a.createElement(pa,{value:d,name:"closed",className:t.ticketsWrapper},r.a.createElement(da,{status:"closed",showAll:!0,selectedQueueIds:L})),r.a.createElement(pa,{value:d,name:"search",className:t.ticketsWrapper},r.a.createElement(da,{searchParam:c,showAll:!0,selectedQueueIds:L})))},ha=a(445),va=a.n(ha),Oa=a(804),xa=function(e){var t=e.classes;return r.a.createElement("div",{className:t.content},r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:t.contactHeader},r.a.createElement(ia.a,{animation:"wave",variant:"circle",width:160,height:160,className:t.contactAvatar}),r.a.createElement(ia.a,{animation:"wave",height:25,width:90}),r.a.createElement(ia.a,{animation:"wave",height:25,width:80}),r.a.createElement(ia.a,{animation:"wave",height:25,width:80})),r.a.createElement(Ct.a,{square:!0,className:t.contactDetails},r.a.createElement(x.a,{variant:"subtitle1"},te.a.t("contactDrawer.extraInfo")),r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ia.a,{animation:"wave",height:20,width:60}),r.a.createElement(ia.a,{animation:"wave",height:20,width:160})),r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ia.a,{animation:"wave",height:20,width:60}),r.a.createElement(ia.a,{animation:"wave",height:20,width:160})),r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ia.a,{animation:"wave",height:20,width:60}),r.a.createElement(ia.a,{animation:"wave",height:20,width:160}))))},ka=Object(f.a)((function(e){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(ne.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},e.scrollbarStyles),contactAvatar:{margin:15,width:160,height:160},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}})),ya=function(e){var t,a=e.open,o=e.handleDrawerClose,c=e.contact,i=e.loading,l=ka(),u=Object(n.useState)(!1),d=Object(s.a)(u,2),m=d[0],p=d[1];return r.a.createElement(g.a,{className:l.drawer,variant:"persistent",anchor:"right",open:a,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:l.drawerPaper}},r.a.createElement("div",{className:l.header},r.a.createElement(b.a,{onClick:o},r.a.createElement(va.a,null)),r.a.createElement(x.a,{style:{justifySelf:"center"}},te.a.t("contactDrawer.header"))),i?r.a.createElement(xa,{classes:l}):r.a.createElement("div",{className:l.content},r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:l.contactHeader},r.a.createElement(De.a,{alt:c.name,src:c.profilePicUrl,className:l.contactAvatar}),r.a.createElement(x.a,null,c.name),r.a.createElement(x.a,null,r.a.createElement(Oa.a,{href:"tel:".concat(c.number)},c.number)),r.a.createElement(Pe.a,{variant:"outlined",color:"primary",onClick:function(){return p(!0)}},te.a.t("contactDrawer.buttons.edit"))),r.a.createElement(Ct.a,{square:!0,variant:"outlined",className:l.contactDetails},r.a.createElement(ra,{open:m,onClose:function(){return p(!1)},contactId:c.id}),r.a.createElement(x.a,{variant:"subtitle1"},te.a.t("contactDrawer.extraInfo")),null===c||void 0===c||null===(t=c.extraInfo)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Ct.a,{key:e.id,square:!0,variant:"outlined",className:l.contactExtraInfo},r.a.createElement(lt.a,null,e.name),r.a.createElement(x.a,{component:"div",noWrap:!0,style:{paddingTop:2}},r.a.createElement(Ge,null,e.value)))})))))},ja=(a(684),a(460)),Ca=a(446),wa=a.n(Ca),Aa=a(319),Ta=a.n(Aa),Sa=a(449),Na=a.n(Sa),Ra=a(318),Ia=a.n(Ra),Ma=a(317),Da=a.n(Ma),_a=a(448),Pa=a.n(_a),qa=a(447),Wa=a.n(qa),La=a(452),Ba=a.n(La),Fa=a(451),Ua=a.n(Fa),za=a(450),Qa=a.n(za),Ha=a(837),Ga=a(805),Va=Object(f.a)((function(e){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),Ka=function(){var e=Va(),t=Object(n.useState)({minutes:0,seconds:0}),a=Object(s.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){return c((function(e){return 59===e.seconds?Object(ne.a)(Object(ne.a)({},e),{},{minutes:e.minutes+1,seconds:0}):Object(ne.a)(Object(ne.a)({},e),{},{seconds:e.seconds+1})}))}),1e3);return function(){clearInterval(e)}}),[]);var i=function(e){return e<10?"0"+e:e};return r.a.createElement("div",{className:e.timerBox},r.a.createElement("span",null,"".concat(i(o.minutes),":").concat(i(o.seconds))))},Ya=Object(n.createContext)(),Ja=function(e){var t=e.children,a=Object(n.useState)(null),o=Object(s.a)(a,2),c=o[0],i=o[1];return r.a.createElement(Ya.Provider,{value:{replyingMessage:c,setReplyingMessage:i}},t)};var Xa=new wa.a({bitRate:128}),Za=Object(f.a)((function(e){return{mainWrapper:Object(m.a)({background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{position:"fixed",bottom:0,width:"100%"}),newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:Ie.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:Ie.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:"#ffffff",padding:"2px",border:"1px solid #CCC",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"32px","&:hover":{background:"#F1F1F1",cursor:"pointer"}}}}}})),$a=function(e){var t,a=e.ticketStatus,o=Za(),c=Object(u.h)().ticketId,i=Object(n.useState)([]),l=Object(s.a)(i,2),d=l[0],f=l[1],g=Object(n.useState)(""),E=Object(s.a)(g,2),h=E[0],v=E[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),j=x[0],C=x[1],w=Object(n.useState)(!1),A=Object(s.a)(w,2),T=A[0],S=A[1],N=Object(n.useState)(!1),R=Object(s.a)(N,2),I=R[0],M=R[1],D=Object(n.useState)([]),_=Object(s.a)(D,2),P=_[0],q=_[1],W=Object(n.useState)(!1),L=Object(s.a)(W,2),B=L[0],F=L[1],U=Object(n.useRef)(),z=Object(n.useState)(null),Q=Object(s.a)(z,2),H=Q[0],G=Q[1],V=Object(n.useContext)(Ya),K=V.setReplyingMessage,Y=V.replyingMessage,J=Object(n.useContext)(ve).user,X=function(e,t){var a=Object(n.useState)((function(){try{var a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return de(n),t}})),r=Object(s.a)(a,2),o=r[0],c=r[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;c(a),localStorage.setItem(e,JSON.stringify(a))}catch(n){de(n)}}]}("signOption",!0),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1];Object(n.useEffect)((function(){U.current.focus()}),[Y]),Object(n.useEffect)((function(){return U.current.focus(),function(){v(""),C(!1),f([]),K(null)}}),[c,K]);var ae=function(e){if(e.target.files){var t=Array.from(e.target.files);f(t)}},ne=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),t.preventDefault(),(a=new FormData).append("fromMe",!0),d.forEach((function(e){a.append("medias",e),a.append("body",e.name)})),e.prev=5,e.next=8,pe.post("/messages/".concat(c),a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),de(e.t0);case 13:S(!1),f([]);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==h.trim()){e.next=2;break}return e.abrupt("return");case 2:return S(!0),t={read:1,fromMe:!0,mediaUrl:"",body:$?"*".concat(null===J||void 0===J?void 0:J.name,":*\n").concat(h.trim()):h.trim(),quotedMsg:Y},e.prev=4,e.next=7,pe.post("/messages/".concat(c),t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),de(e.t0);case 12:v(""),C(!1),S(!1),K(null);case 16:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return e.next=6,Xa.start();case 6:M(!0),S(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),de(e.t0),S(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0!==t.indexOf("/")){e.next=15;break}return e.prev=1,e.next=4,pe.get("/quickAnswers/",{params:{searchParam:h.substring(1)}});case 4:a=e.sent,n=a.data,q(n.quickAnswers),n.quickAnswers.length>0?F(!0):F(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),F(!1);case 13:e.next=16;break;case 15:F(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,r,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,Xa.stop().getMp3();case 4:if(t=e.sent,a=Object(s.a)(t,2),!((n=a[1]).size<1e4)){e.next=11;break}return S(!1),M(!1),e.abrupt("return");case 11:return r=new FormData,o="".concat((new Date).getTime(),".mp3"),r.append("medias",n,o),r.append("body",o),r.append("fromMe",!0),e.next=18,pe.post("/messages/".concat(c),r);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),de(e.t0);case 23:M(!1),S(!1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa.stop().getMp3();case 3:M(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),me=function(e){G(null)};return d.length>0?r.a.createElement(Ct.a,{elevation:0,square:!0,className:o.viewMediaInputWrapper},r.a.createElement(b.a,{"aria-label":"cancel-upload",component:"span",onClick:function(e){return f([])}},r.a.createElement(Pa.a,{className:o.sendMessageIcons})),T?r.a.createElement("div",null,r.a.createElement(qe.a,{className:o.circleLoading})):r.a.createElement("span",null,null===(t=d[0])||void 0===t?void 0:t.name),r.a.createElement(b.a,{"aria-label":"send-upload",component:"span",onClick:ne,disabled:T},r.a.createElement(Da.a,{className:o.sendMessageIcons}))):r.a.createElement(Ct.a,{square:!0,elevation:0,className:o.mainWrapper},Y&&function(e){var t;return r.a.createElement("div",{className:o.replyginMsgWrapper},r.a.createElement("div",{className:o.replyginMsgContainer},r.a.createElement("span",{className:Object(p.a)(o.replyginContactMsgSideColor,Object(m.a)({},o.replyginSelfMsgSideColor,!e.fromMe))}),r.a.createElement("div",{className:o.replyginMsgBody},!e.fromMe&&r.a.createElement("span",{className:o.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),e.body)),r.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:T||"open"!==a,onClick:function(){return K(null)}},r.a.createElement(Wa.a,{className:o.sendMessageIcons})))}(Y),r.a.createElement("div",{className:o.newMessageBox},r.a.createElement(Ha.a,{only:["sm","xs"]},r.a.createElement(b.a,{"aria-label":"emojiPicker",component:"span",disabled:T||I||"open"!==a,onClick:function(e){return C((function(e){return!e}))}},r.a.createElement(Ia.a,{className:o.sendMessageIcons})),j?r.a.createElement("div",{className:o.emojiBox},r.a.createElement(Ga.a,{onClickAway:function(e){return C(!1)}},r.a.createElement(ja.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:function(e){var t=e.native;v((function(e){return e+t}))}}))):null,r.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:T||I||"open"!==a,className:o.uploadInput,onChange:ae}),r.a.createElement("label",{htmlFor:"upload-button"},r.a.createElement(b.a,{"aria-label":"upload",component:"span",disabled:T||I||"open"!==a},r.a.createElement(Ta.a,{className:o.sendMessageIcons}))),r.a.createElement(Jt.a,{style:{marginRight:7,color:"gray"},label:te.a.t("messagesInput.signMessage"),labelPlacement:"start",control:r.a.createElement(Xt.a,{size:"small",checked:$,onChange:function(e){ee(e.target.checked)},name:"showAllTickets",color:"primary"})})),r.a.createElement(Ha.a,{only:["md","lg","xl"]},r.a.createElement(b.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){G(e.currentTarget)}},r.a.createElement(Na.a,null)),r.a.createElement(k.a,{id:"simple-menu",keepMounted:!0,anchorEl:H,open:Boolean(H),onClose:me},r.a.createElement(y.a,{onClick:me},r.a.createElement(b.a,{"aria-label":"emojiPicker",component:"span",disabled:T||I||"open"!==a,onClick:function(e){return C((function(e){return!e}))}},r.a.createElement(Ia.a,{className:o.sendMessageIcons}))),r.a.createElement(y.a,{onClick:me},r.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:T||I||"open"!==a,className:o.uploadInput,onChange:ae}),r.a.createElement("label",{htmlFor:"upload-button"},r.a.createElement(b.a,{"aria-label":"upload",component:"span",disabled:T||I||"open"!==a},r.a.createElement(Ta.a,{className:o.sendMessageIcons})))),r.a.createElement(y.a,{onClick:me},r.a.createElement(Jt.a,{style:{marginRight:7,color:"gray"},label:te.a.t("messagesInput.signMessage"),labelPlacement:"start",control:r.a.createElement(Xt.a,{size:"small",checked:$,onChange:function(e){ee(e.target.checked)},name:"showAllTickets",color:"primary"})})))),r.a.createElement("div",{className:o.messageInputWrapper},r.a.createElement(zt.a,{inputRef:function(e){e&&e.focus(),e&&(U.current=e)},className:o.messageInput,placeholder:"open"===a?te.a.t("messagesInput.placeholderOpen"):te.a.t("messagesInput.placeholderClosed"),multiline:!0,rowsMax:5,value:h,onChange:function(e){v(e.target.value),se(e.target.value)},disabled:I||T||"open"!==a,onPaste:function(e){"open"===a&&function(e){e.clipboardData.files[0]&&f([e.clipboardData.files[0]])}(e)},onKeyPress:function(e){T||e.shiftKey||"Enter"===e.key&&re()}}),B?r.a.createElement("ul",{className:o.messageQuickAnswersWrapper},P.map((function(e,t){return r.a.createElement("li",{className:o.messageQuickAnswersWrapperItem,key:t},r.a.createElement("a",{onClick:function(){return function(e){v(e),F(!1)}(e.message)}},"".concat(e.shortcut," - ").concat(e.message)))}))):r.a.createElement("div",null)),h?r.a.createElement(b.a,{"aria-label":"sendMessage",component:"span",onClick:re,disabled:T},r.a.createElement(Da.a,{className:o.sendMessageIcons})):I?r.a.createElement("div",{className:o.recorderWrapper},r.a.createElement(b.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:T,onClick:ue},r.a.createElement(Qa.a,{className:o.cancelAudioIcon})),T?r.a.createElement("div",null,r.a.createElement(qe.a,{className:o.audioLoading})):r.a.createElement(Ka,null),r.a.createElement(b.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:le,disabled:T},r.a.createElement(Ua.a,{className:o.sendAudioIcon}))):r.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:T||"open"!==a,onClick:oe},r.a.createElement(Ba.a,{className:o.sendMessageIcons}))))},en=a(806),tn=a(807),an=Object(f.a)((function(e){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),nn=function(){var e=an();return r.a.createElement(en.a,{square:!0,className:e.ticketHeader},r.a.createElement(tn.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:r.a.createElement(ia.a,{animation:"wave",variant:"circle"},r.a.createElement(De.a,{alt:"contact_image"})),title:r.a.createElement(ia.a,{animation:"wave",width:80}),subheader:r.a.createElement(ia.a,{animation:"wave",width:140})}))},rn=a(453),on=a.n(rn),cn=Object(f.a)((function(e){return{ticketHeader:Object(m.a)({display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{flexWrap:"wrap"})}})),sn=function(e){var t=e.loading,a=e.children,n=cn(),o=Object(u.g)();return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(nn,null):r.a.createElement(en.a,{square:!0,className:n.ticketHeader},r.a.createElement(Pe.a,{color:"primary",onClick:function(){o.push("/tickets")}},r.a.createElement(on.a,null)),a))},ln=function(e){var t=e.contact,a=e.ticket,n=e.onClick;return r.a.createElement(tn.a,{onClick:n,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:r.a.createElement(De.a,{src:t.profilePicUrl,alt:"contact_image"}),title:"".concat(t.name," #").concat(a.id),subheader:a.user&&"".concat(te.a.t("messagesList.header.assignedTo")," ").concat(a.user.name)})},un=a(808),dn=a(809),mn=function(e){var t=e.title,a=e.children,n=e.open,o=e.onClose,c=e.onConfirm;return r.a.createElement(nt.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"confirm-dialog"},r.a.createElement(rt.a,{id:"confirm-dialog"},t),r.a.createElement(ot.a,{dividers:!0},r.a.createElement(x.a,null,a)),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{variant:"contained",onClick:function(){return o(!1)},color:"default"},te.a.t("confirmationModal.buttons.cancel")),r.a.createElement(Pe.a,{variant:"contained",onClick:function(){o(!1),c()},color:"secondary"},te.a.t("confirmationModal.buttons.confirm"))))},pn=function(){return{findAll:function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("/queue");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},fn=Object(f.a)((function(e){return{maxWidth:{width:"100%"}}})),gn=Object(Zt.a)({trim:!0}),bn=function(e){var t=e.modalOpen,a=e.onClose,o=e.ticketid,c=Object(u.g)(),i=Object(n.useState)([]),l=Object(s.a)(i,2),d=l[0],m=l[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),g=f[0],b=f[1],E=Object(n.useState)([]),h=Object(s.a)(E,2),v=h[0],O=h[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),j=k[0],C=k[1],w=Object(n.useState)(""),A=Object(s.a)(w,2),T=A[0],S=A[1],N=Object(n.useState)(null),R=Object(s.a)(N,2),I=R[0],M=R[1],D=Object(n.useState)(""),_=Object(s.a)(D,2),P=_[0],q=_[1],W=fn(),L=pn().findAll;Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,O(t),b(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){if(t&&!(T.length<3)){C(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/users/",{params:{searchParam:T}});case 3:t=e.sent,a=t.data,m(a.users),C(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),C(!1),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}C(!1)}),[T,t]);var B=function(){a(),S(""),M(null)},F=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return C(!0),e.prev=4,a={},I&&(a.userId=I.id),P&&null!==P&&(a.queueId=P,I||(a.status="pending",a.userId=null)),e.next=10,pe.put("/tickets/".concat(o),a);case 10:C(!1),c.push("/tickets"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),C(!1),de(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(nt.a,{open:t,onClose:B,maxWidth:"lg",scroll:"paper"},r.a.createElement("form",{onSubmit:F},r.a.createElement(rt.a,{id:"form-dialog-title"},te.a.t("transferTicketModal.title")),r.a.createElement(ot.a,{dividers:!0},r.a.createElement($t.a,{style:{width:300,marginBottom:20},getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){M(t),null!=t&&Array.isArray(t.queues)?b(t.queues):(b(v),q(""))},options:d,filterOptions:gn,freeSolo:!0,autoHighlight:!0,noOptionsText:te.a.t("transferTicketModal.noOptions"),loading:j,renderInput:function(e){return r.a.createElement(ct.a,Object.assign({},e,{label:te.a.t("transferTicketModal.fieldLabel"),variant:"outlined",required:!0,autoFocus:!0,onChange:function(e){return S(e.target.value)},InputProps:Object(ne.a)(Object(ne.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,j?r.a.createElement(qe.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}),r.a.createElement(st.a,{variant:"outlined",className:W.maxWidth},r.a.createElement(lt.a,null,te.a.t("transferTicketModal.fieldQueueLabel")),r.a.createElement(ut.a,{value:P,onChange:function(e){return q(e.target.value)},label:te.a.t("transferTicketModal.fieldQueuePlaceholder")},r.a.createElement(y.a,{value:""},"\xa0"),g.map((function(e){return r.a.createElement(y.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:B,color:"secondary",disabled:j,variant:"outlined"},te.a.t("transferTicketModal.buttons.cancel")),r.a.createElement(Be,{variant:"contained",type:"submit",color:"primary",loading:j},te.a.t("transferTicketModal.buttons.ok")))))},En=function(e){var t=e.ticket,a=e.menuOpen,o=e.handleClose,c=e.anchorEl,i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],g=p[1],b=Object(n.useRef)(!0),E=Object(n.useContext)(ve).user;Object(n.useEffect)((function(){return function(){b.current=!1}}),[]);var h=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/tickets/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),de(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){d(!0),o()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{id:"menu-appbar",anchorEl:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o},r.a.createElement(y.a,{onClick:function(e){g(!0),o()}},te.a.t("ticketOptionsMenu.transfer")),r.a.createElement(ke,{role:E.profile,perform:"ticket-options:deleteTicket",yes:function(){return r.a.createElement(y.a,{onClick:v},te.a.t("ticketOptionsMenu.delete"))}})),r.a.createElement(mn,{title:"".concat(te.a.t("ticketOptionsMenu.confirmationModal.title")).concat(t.id," ").concat(te.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(t.contact.name,"?"),open:u,onClose:d,onConfirm:h},te.a.t("ticketOptionsMenu.confirmationModal.message")),r.a.createElement(bn,{modalOpen:f,onClose:function(){b.current&&g(!1)},ticketid:t.id}))},hn=Object(f.a)((function(e){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),vn=function(e){var t=e.ticket,a=hn(),o=Object(u.g)(),c=Object(n.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],g=p[1],E=Boolean(l),h=Object(n.useContext)(ve).user,v=function(){var e=Object(ie.a)(ce.a.mark((function e(a,n,r){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,pe.put("/tickets/".concat(t.id),{status:n,userId:r||null});case 4:g(!1),"open"===n?o.push("/tickets/".concat(t.id)):o.push("/tickets"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g(!1),de(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:a.actionButtons},"closed"===t.status&&r.a.createElement(Be,{loading:f,startIcon:r.a.createElement(un.a,null),size:"small",onClick:function(e){return v(e,"open",null===h||void 0===h?void 0:h.id)}},te.a.t("messagesList.header.buttons.reopen")),"open"===t.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{loading:f,startIcon:r.a.createElement(un.a,null),size:"small",onClick:function(e){return v(e,"pending",null)}},te.a.t("messagesList.header.buttons.return")),r.a.createElement(Be,{loading:f,size:"small",variant:"contained",color:"primary",onClick:function(e){return v(e,"closed",null===h||void 0===h?void 0:h.id)}},te.a.t("messagesList.header.buttons.resolve")),r.a.createElement(b.a,{onClick:function(e){d(e.currentTarget)}},r.a.createElement(dn.a,null)),r.a.createElement(En,{ticket:t,anchorEl:l,menuOpen:E,handleClose:function(e){d(null)}})),"pending"===t.status&&r.a.createElement(Be,{loading:f,size:"small",variant:"contained",color:"primary",onClick:function(e){return v(e,"open",null===h||void 0===h?void 0:h.id)}},te.a.t("messagesList.header.buttons.accept")))},On=a(810),xn=a(811),kn=a(812),yn=a(813),jn=a(814),Cn=a(815),wn=a(463),An=Object(f.a)((function(e){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}})),Tn=function(e){var t=e.imageUrl,a=An(),o=Object(n.useState)(!0),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(ie.a)(ce.a.mark((function e(){var a,n,r,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get(t,{responseType:"blob"});case 2:a=e.sent,n=a.data,r=a.headers,o=window.URL.createObjectURL(new Blob([n],{type:r["content-type"]})),p(o),l(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),r.a.createElement(wn.a,{className:a.messageMedia,smallSrcSet:i?t:m,medium:i?t:m,large:i?t:m,alt:"image"})},Sn=function(e){var t=e.message,a=e.menuOpen,o=e.handleClose,c=e.anchorEl,i=Object(n.useContext)(Ya).setReplyingMessage,l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],m=u[1],p=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/messages/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),de(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(mn,{title:te.a.t("messageOptionsMenu.confirmationModal.title"),open:d,onClose:m,onConfirm:p},te.a.t("messageOptionsMenu.confirmationModal.message")),r.a.createElement(k.a,{anchorEl:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o},t.fromMe&&r.a.createElement(y.a,{onClick:function(e){m(!0),o()}},te.a.t("messageOptionsMenu.delete")),r.a.createElement(y.a,{onClick:function(){i(t),o()}},te.a.t("messageOptionsMenu.reply"))))},Nn=a(454),Rn=a.n(Nn),In=Object(f.a)((function(e){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1},messagesList:Object(ne.a)(Object(m.a)({backgroundImage:"url(".concat(Rn.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},e.breakpoints.down("sm"),{paddingBottom:"90px"}),e.scrollbarStyles),circleLoading:{color:Ie.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:Ie.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}}})),Mn=function(e,t){if("LOAD_MESSAGES"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(n,Object(se.a)(e))}if("ADD_MESSAGE"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?e[o]=r:e.push(r),Object(se.a)(e)}if("UPDATE_MESSAGE"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c.id}));return-1!==i&&(e[i]=c),Object(se.a)(e)}if("RESET"===t.type)return[]},Dn=function(e){var t=e.ticketId,a=e.isGroup,o=In(),c=Object(n.useReducer)(Mn,[]),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(n.useState)(1),f=Object(s.a)(d,2),g=f[0],h=f[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),x=O[0],k=O[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),C=j[0],w=j[1],A=Object(n.useRef)(),T=Object(n.useState)({}),S=Object(s.a)(T,2),N=S[0],R=S[1],I=Object(n.useState)(null),M=Object(s.a)(I,2),D=M[0],_=M[1],P=Boolean(D),q=Object(n.useRef)(t);Object(n.useEffect)((function(){u({type:"RESET"}),h(1),q.current=t}),[t]),Object(n.useEffect)((function(){w(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/messages/"+t,{params:{pageNumber:g}});case 3:a=e.sent,n=a.data,q.current===t&&(u({type:"LOAD_MESSAGES",payload:n.messages}),k(n.hasMore),w(!1)),1===g&&n.messages.length>1&&W(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),w(!1),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){clearTimeout(e)}}),[g,t]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("connect",(function(){return e.emit("joinChatBox",t)})),e.on("appMessage",(function(e){"create"===e.action&&(u({type:"ADD_MESSAGE",payload:e.message}),W()),"update"===e.action&&u({type:"UPDATE_MESSAGE",payload:e.message})})),function(){e.disconnect()}}),[t]);var W=function(){A.current&&A.current.scrollIntoView({})},L=function(e,t){_(e.currentTarget),R(t)},B=function(e){return"image"===e.mediaType?r.a.createElement(Tn,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?r.a.createElement("video",{className:o.messageMedia,src:e.mediaUrl,controls:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.downloadMedia},r.a.createElement(Pe.a,{startIcon:r.a.createElement(On.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),r.a.createElement(E.a,null))},F=function(e,t){if(0===t)return r.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},r.a.createElement("div",{className:o.dailyTimestampText},Object(Ce.a)(Object(Re.a)(l[t].createdAt),"dd/MM/yyyy")));if(t<l.length-1){var a=Object(Re.a)(l[t].createdAt),n=Object(Re.a)(l[t-1].createdAt);if(!Object(Ne.a)(a,n))return r.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},r.a.createElement("div",{className:o.dailyTimestampText},Object(Ce.a)(Object(Re.a)(l[t].createdAt),"dd/MM/yyyy")))}return t===l.length-1?r.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:A,style:{float:"left",clear:"both"}}):void 0},U=function(e,t){if(t<l.length&&t>0&&l[t].fromMe!==l[t-1].fromMe)return r.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})},z=function(e){var t,a,n,c,i;return r.a.createElement("div",{className:Object(p.a)(o.quotedContainerLeft,Object(m.a)({},o.quotedContainerRight,e.fromMe))},r.a.createElement("span",{className:Object(p.a)(o.quotedSideColorLeft,Object(m.a)({},o.quotedSideColorRight,null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe))}),r.a.createElement("div",{className:o.quotedMsg},!(null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe)&&r.a.createElement("span",{className:o.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(c=n.contact)||void 0===c?void 0:c.name),null===(i=e.quotedMsg)||void 0===i?void 0:i.body))};return r.a.createElement("div",{className:o.messagesListWrapper},r.a.createElement(Sn,{message:N,anchorEl:D,menuOpen:P,handleClose:function(e){_(null)}}),r.a.createElement("div",{id:"messagesList",className:o.messagesList,onScroll:function(e){if(x){var t=e.currentTarget.scrollTop;0===t&&(document.getElementById("messagesList").scrollTop=1),C||t<50&&h((function(e){return e+1}))}}},l.length>0?l.length>0?l.map((function(e,t){return e.fromMe?r.a.createElement(r.a.Fragment,{key:e.id},F(e,t),U(e,t),r.a.createElement("div",{className:o.messageRight},r.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return L(t,e)}},r.a.createElement(jn.a,null)),e.mediaUrl&&B(e),r.a.createElement("div",{className:Object(p.a)(o.textContentItem,Object(m.a)({},o.textContentItemDeleted,e.isDeleted))},e.isDeleted&&r.a.createElement(Cn.a,{color:"disabled",fontSize:"small",className:o.deletedIcon}),e.quotedMsg&&z(e),r.a.createElement(Ge,null,e.body),r.a.createElement("span",{className:o.timestamp},Object(Ce.a)(Object(Re.a)(e.createdAt),"HH:mm"),function(e){return 0===e.ack?r.a.createElement(xn.a,{fontSize:"small",className:o.ackIcons}):1===e.ack?r.a.createElement(kn.a,{fontSize:"small",className:o.ackIcons}):2===e.ack?r.a.createElement(yn.a,{fontSize:"small",className:o.ackIcons}):3===e.ack||4===e.ack?r.a.createElement(yn.a,{fontSize:"small",className:o.ackDoneAllIcon}):void 0}(e))))):r.a.createElement(r.a.Fragment,{key:e.id},F(e,t),U(e,t),r.a.createElement("div",{className:o.messageLeft},r.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return L(t,e)}},r.a.createElement(jn.a,null)),a&&r.a.createElement("span",{className:o.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),e.mediaUrl&&B(e),r.a.createElement("div",{className:o.textContentItem},e.quotedMsg&&z(e),r.a.createElement(Ge,null,e.body),r.a.createElement("span",{className:o.timestamp},Object(Ce.a)(Object(Re.a)(e.createdAt),"HH:mm")))));var n})):r.a.createElement("div",null,"Say hello to your new contact!"):[]),C&&r.a.createElement("div",null,r.a.createElement(qe.a,{className:o.circleLoading})))},_n=Object(f.a)((function(e){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},ticketInfo:Object(m.a)({maxWidth:"50%",flexBasis:"50%"},e.breakpoints.down("sm"),{maxWidth:"80%",flexBasis:"80%"}),ticketActionButtons:Object(m.a)({maxWidth:"50%",flexBasis:"50%",display:"flex"},e.breakpoints.down("sm"),{maxWidth:"100%",flexBasis:"100%",marginBottom:"5px"}),mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),Pn=function(){var e=Object(u.h)().ticketId,t=Object(u.g)(),a=_n(),o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],f=Object(n.useState)(!0),g=Object(s.a)(f,2),b=g[0],E=g[1],h=Object(n.useState)({}),v=Object(s.a)(h,2),O=v[0],x=v[1],k=Object(n.useState)({}),y=Object(s.a)(k,2),j=y[0],C=y[1];Object(n.useEffect)((function(){E(!0);var t=setTimeout((function(){(function(){var t=Object(ie.a)(ce.a.mark((function t(){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.get("/tickets/"+e);case 3:a=t.sent,n=a.data,x(n.contact),C(n),E(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),E(!1),de(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,t]),Object(n.useEffect)((function(){var a=ue()("http://18.224.202.185:8080/");return a.on("connect",(function(){return a.emit("joinChatBox",e)})),a.on("ticket",(function(e){"update"===e.action&&C(e.ticket),"delete"===e.action&&(d.b.success("Ticket deleted sucessfully."),t.push("/tickets"))})),a.on("contact",(function(e){"update"===e.action&&x((function(t){var a;return t.id===(null===(a=e.contact)||void 0===a?void 0:a.id)?Object(ne.a)(Object(ne.a)({},t),e.contact):t}))})),function(){a.disconnect()}}),[e,t]);return r.a.createElement("div",{className:a.root,id:"drawer-container"},r.a.createElement(Ct.a,{variant:"outlined",elevation:0,className:Object(p.a)(a.mainWrapper,Object(m.a)({},a.mainWrapperShift,i))},r.a.createElement(sn,{loading:b},r.a.createElement("div",{className:a.ticketInfo},r.a.createElement(ln,{contact:O,ticket:j,onClick:function(){l(!0)}})),r.a.createElement("div",{className:a.ticketActionButtons},r.a.createElement(vn,{ticket:j}))),r.a.createElement(Ja,null,r.a.createElement(Dn,{ticketId:e,isGroup:j.isGroup}),r.a.createElement($a,{ticketStatus:j.status}))),r.a.createElement(ya,{open:i,handleDrawerClose:function(){l(!1)},contact:O,loading:b}))},qn=Object(f.a)((function(e){return{chatContainer:{flex:1,height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},contactsWrapperSmall:Object(m.a)({display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},e.breakpoints.down("sm"),{display:"none"}),messagessWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center",borderRadius:0},ticketsManager:{},ticketsManagerClosed:Object(m.a)({},e.breakpoints.down("sm"),{display:"none"})}})),Wn=function(){var e=qn(),t=Object(u.h)().ticketId;return r.a.createElement("div",{className:e.chatContainer},r.a.createElement("div",{className:e.chatPapper},r.a.createElement(At.a,{container:!0,spacing:0},r.a.createElement(At.a,{item:!0,xs:12,md:4,className:t?e.contactsWrapperSmall:e.contactsWrapper},r.a.createElement(Ea,null)),r.a.createElement(At.a,{item:!0,xs:12,md:8,className:e.messagessWrapper},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pn,null)):r.a.createElement(Ha.a,{only:["sm","xs"]},r.a.createElement(Ct.a,{className:e.welcomeMsg},r.a.createElement("span",null,te.a.t("chat.noTicketMessage"))))))))},Ln=a(833),Bn=a(817),Fn=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Un=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:tt.b().min(5,"Too Short!").max(50,"Too Long!"),email:tt.b().email("Invalid email").required("Required")}),zn=function(){var e=Fn(),t=Object(u.g)(),a=Object(n.useState)(!1),o=Object(s.a)(a,2),c=o[0],m=o[1],p=Object(n.useState)({name:"",email:"",password:""}),f=Object(s.a)(p,1)[0],g=function(){var e=Object(ie.a)(ce.a.mark((function e(a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.post("/auth/signup",a);case 3:d.b.success(te.a.t("signup.toasts.success")),t.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),de(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(wt.a,{component:"main",maxWidth:"xs"},r.a.createElement(i.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(De.a,{className:e.avatar},r.a.createElement(Bn.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},te.a.t("signup.title")),r.a.createElement(at.d,{initialValues:f,enableReinitialize:!0,validationSchema:Un,onSubmit:function(e,t){setTimeout((function(){g(e),t.setSubmitting(!1)}),400)}},(function(t){var a=t.touched,n=t.errors;t.isSubmitting;return r.a.createElement(at.c,{className:e.form},r.a.createElement(At.a,{container:!0,spacing:2},r.a.createElement(At.a,{item:!0,xs:12},r.a.createElement(at.a,{as:ct.a,autoComplete:"name",name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:te.a.t("signup.form.name"),autoFocus:!0})),r.a.createElement(At.a,{item:!0,xs:12},r.a.createElement(at.a,{as:ct.a,variant:"outlined",fullWidth:!0,id:"email",label:te.a.t("signup.form.email"),name:"email",error:a.email&&Boolean(n.email),helperText:a.email&&n.email,autoComplete:"email"})),r.a.createElement(At.a,{item:!0,xs:12},r.a.createElement(at.a,{as:ct.a,variant:"outlined",fullWidth:!0,name:"password",id:"password",autoComplete:"current-password",error:a.password&&Boolean(n.password),helperText:a.password&&n.password,label:te.a.t("signup.form.password"),type:c?"text":"password",InputProps:{endAdornment:r.a.createElement(it.a,{position:"end"},r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return m((function(e){return!e}))}},c?r.a.createElement(mt.a,null):r.a.createElement(pt.a,null)))}}))),r.a.createElement(Pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},te.a.t("signup.buttons.submit")),r.a.createElement(At.a,{container:!0,justify:"flex-end"},r.a.createElement(At.a,{item:!0},r.a.createElement(Oa.a,{href:"#",variant:"body2",component:l.b,to:"/login"},te.a.t("signup.buttons.login")))))}))),r.a.createElement(Ln.a,{mt:5}))},Qn=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Hn=function(){var e=Qn(),t=Object(n.useState)({email:"",password:""}),a=Object(s.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),p=d[0],f=d[1],g=Object(n.useContext)(ve).handleLogin,E=function(e){c(Object(ne.a)(Object(ne.a)({},o),{},Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement(wt.a,{component:"main",maxWidth:"xs"},r.a.createElement(i.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(De.a,{className:e.avatar},r.a.createElement(Bn.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},te.a.t("login.title")),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),g(o)}},r.a.createElement(ct.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:te.a.t("login.form.email"),name:"email",value:o.email,onChange:E,autoComplete:"email",autoFocus:!0}),r.a.createElement(ct.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:te.a.t("login.form.password"),id:"password",value:o.password,onChange:E,autoComplete:"current-password",type:p?"text":"password",InputProps:{endAdornment:r.a.createElement(it.a,{position:"end"},r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return f((function(e){return!e}))}},p?r.a.createElement(mt.a,null):r.a.createElement(pt.a,null)))}}),r.a.createElement(Pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},te.a.t("login.buttons.submit")),r.a.createElement(At.a,{container:!0},r.a.createElement(At.a,{item:!0},r.a.createElement(Oa.a,{href:"#",variant:"body2",component:l.b,to:"/signup"},te.a.t("login.buttons.register")))))),r.a.createElement(Ln.a,{mt:8}))},Gn=a(824),Vn=a(825),Kn=a(818),Yn=a(819),Jn=a(826),Xn=a(820),Zn=a(821),$n=a(822),er=a(823),tr=a(827),ar=a(828),nr=a(829),rr=Object(f.a)((function(e){return{mainContainer:{flex:1,padding:0,height:"100%"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),or=function(e){var t=e.children,a=rr();return r.a.createElement(wt.a,{className:a.mainContainer,maxWidth:!1},r.a.createElement("div",{className:a.contentWrapper},t))},cr=Object(f.a)((function(e){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),ir=function(e){var t=e.children,a=cr();return r.a.createElement("div",{className:a.contactsHeader},t)},sr=Object(f.a)((function(e){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),lr=function(e){var t=e.children,a=sr();return r.a.createElement("div",{className:a.MainHeaderButtonsWrapper},t)};function ur(e){return r.a.createElement(x.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}var dr=Object(f.a)((function(e){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),mr=function(e){var t=e.avatar,a=e.columns,n=dr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,{style:{paddingRight:0}},r.a.createElement(ia.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(Yn.a,null,r.a.createElement(ia.a,{animation:"wave",height:30,width:80}))),Array.from({length:a},(function(e,t){return r.a.createElement(Yn.a,{align:"center",key:t},r.a.createElement("div",{className:n.customTableCell},r.a.createElement(ia.a,{align:"center",animation:"wave",height:30,width:80})))}))))},pr=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),fr=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),gr=r.a.memo((function(e){var t=e.open,a=e.onClose,o=e.whatsAppId,c=pr(),i={name:"",greetingMessage:"",farewellMessage:"",isDefault:!1},l=Object(n.useState)(i),u=Object(s.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),b=g[0],E=g[1];Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe.get("whatsapp/".concat(o));case 5:a=e.sent,n=a.data,p(n),r=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),E(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),de(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);var h=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(ne.a)(Object(ne.a)({},t),{},{queueIds:b}),e.prev=1,!o){e.next=7;break}return e.next=5,pe.put("/whatsapp/".concat(o),a);case 5:e.next=9;break;case 7:return e.next=9,pe.post("/whatsapp",a);case 9:d.b.success(te.a.t("whatsappModal.success")),v(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),de(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){a(),p(i)};return r.a.createElement("div",{className:c.root},r.a.createElement(nt.a,{open:t,onClose:v,maxWidth:"sm",fullWidth:!0,scroll:"paper"},r.a.createElement(rt.a,null,o?te.a.t("whatsappModal.title.edit"):te.a.t("whatsappModal.title.add")),r.a.createElement(at.d,{initialValues:m,enableReinitialize:!0,validationSchema:fr,onSubmit:function(e,t){setTimeout((function(){h(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,a=e.touched,n=e.errors,i=e.isSubmitting;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(at.a,{as:ct.a,label:te.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",margin:"dense",className:c.textField}),r.a.createElement(Jt.a,{control:r.a.createElement(at.a,{as:Xt.a,color:"primary",name:"isDefault",checked:t.isDefault}),label:te.a.t("whatsappModal.form.default")})),r.a.createElement("div",null,r.a.createElement(at.a,{as:ct.a,label:te.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:5,fullWidth:!0,name:"greetingMessage",error:a.greetingMessage&&Boolean(n.greetingMessage),helperText:a.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),r.a.createElement("div",null,r.a.createElement(at.a,{as:ct.a,label:te.a.t("whatsappModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:5,fullWidth:!0,name:"farewellMessage",error:a.farewellMessage&&Boolean(n.farewellMessage),helperText:a.farewellMessage&&n.farewellMessage,variant:"outlined",margin:"dense"})),r.a.createElement(bt,{selectedQueueIds:b,onChange:function(e){return E(e)}})),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:v,color:"secondary",disabled:i,variant:"outlined"},te.a.t("whatsappModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:c.btnWrapper},o?te.a.t("whatsappModal.buttons.okEdit"):te.a.t("whatsappModal.buttons.okAdd"),i&&r.a.createElement(qe.a,{size:24,className:c.buttonProgress}))))}))))})),br=a(455),Er=a.n(br),hr=r.a.memo((function(e){var t=e.open,a=e.onClose,o=e.whatsAppId,c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe.get("/whatsapp/".concat(o));case 5:t=e.sent,a=t.data,u(a.qrcode),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var e=ue()("http://18.224.202.185:8080/");return e.on("whatsappSession",(function(e){"update"===e.action&&e.session.id===o&&u(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&a()})),function(){e.disconnect()}}}),[o,a]),r.a.createElement(nt.a,{open:t,onClose:a,maxWidth:"lg",scroll:"paper"},r.a.createElement(ot.a,null,r.a.createElement(Ct.a,{elevation:0},r.a.createElement(x.a,{color:"primary",gutterBottom:!0},te.a.t("qrCode.message")),l?r.a.createElement(Er.a,{value:l,size:256}):r.a.createElement("span",null,"Waiting for QR Code"))))})),vr=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Ie.a[500]}}})),Or=function(e){var t=e.title,a=e.content,n=e.children,o=vr();return r.a.createElement(Ve.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{gutterBottom:!0,color:"inherit"},t),a&&r.a.createElement(x.a,null,a))},n)},xr=function(){var e=vr(),t=Object(n.useContext)(be),a=t.whatsApps,o=t.loading,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],g=p[1],E=Object(n.useState)(null),h=Object(s.a)(E,2),v=h[0],O=h[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),y=k[0],j=k[1],C={action:"",title:"",message:"",whatsAppId:"",open:!1},w=Object(n.useState)(C),A=Object(s.a)(w,2),T=A[0],S=A[1],N=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.post("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),de(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.put("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),de(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),I=Object(n.useCallback)((function(){u(!1),O(null)}),[O,u]),M=Object(n.useCallback)((function(){O(null),g(!1)}),[g,O]),D=function(e,t){"disconnect"===e&&S({action:e,title:te.a.t("connections.confirmationModal.disconnectTitle"),message:te.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&S({action:e,title:te.a.t("connections.confirmationModal.deleteTitle"),message:te.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),j(!0)},_=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disconnect"!==T.action){e.next=9;break}return e.prev=1,e.next=4,pe.delete("/whatsappsession/".concat(T.whatsAppId));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),de(e.t0);case 9:if("delete"!==T.action){e.next=19;break}return e.prev=10,e.next=13,pe.delete("/whatsapp/".concat(T.whatsAppId));case 13:d.b.success(te.a.t("connections.toasts.deleted")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),de(e.t1);case 19:S(C);case 20:case"end":return e.stop()}}),e,null,[[1,6],[10,16]])})));return function(){return e.apply(this,arguments)}}(),P=function(e){return r.a.createElement(r.a.Fragment,null,"qrcode"===e.status&&r.a.createElement(Pe.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e){O(e),g(!0)}(e)}},te.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return N(e.id)}},te.a.t("connections.buttons.tryAgain"))," ",r.a.createElement(Pe.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return R(e.id)}},te.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&r.a.createElement(Pe.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){D("disconnect",e.id)}},te.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&r.a.createElement(Pe.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},te.a.t("connections.buttons.connecting")))};return r.a.createElement(or,null,r.a.createElement(mn,{title:T.title,open:y,onClose:j,onConfirm:_},T.message),r.a.createElement(hr,{open:f,onClose:M,whatsAppId:!l&&(null===v||void 0===v?void 0:v.id)}),r.a.createElement(gr,{open:l,onClose:I,whatsAppId:!f&&(null===v||void 0===v?void 0:v.id)}),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("connections.title")),r.a.createElement(lr,null,r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){O(null),u(!0)}},te.a.t("connections.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined"},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.name")),r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.status")),r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.session")),r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.lastUpdate")),r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.default")),r.a.createElement(Yn.a,{align:"center"},te.a.t("connections.table.actions")))),r.a.createElement(Jn.a,null,o?r.a.createElement(mr,null):r.a.createElement(r.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map((function(t){return r.a.createElement(Kn.a,{key:t.id},r.a.createElement(Yn.a,{align:"center"},t.name),r.a.createElement(Yn.a,{align:"center"},function(t){return r.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===t.status&&r.a.createElement(Or,{title:te.a.t("connections.toolTips.disconnected.title"),content:te.a.t("connections.toolTips.disconnected.content")},r.a.createElement(Xn.a,{color:"secondary"})),"OPENING"===t.status&&r.a.createElement(qe.a,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&r.a.createElement(Or,{title:te.a.t("connections.toolTips.qrcode.title"),content:te.a.t("connections.toolTips.qrcode.content")},r.a.createElement(Zn.a,null)),"CONNECTED"===t.status&&r.a.createElement(Or,{title:te.a.t("connections.toolTips.connected.title")},r.a.createElement($n.a,{style:{color:Ie.a[500]}})),("TIMEOUT"===t.status||"PAIRING"===t.status)&&r.a.createElement(Or,{title:te.a.t("connections.toolTips.timeout.title"),content:te.a.t("connections.toolTips.timeout.content")},r.a.createElement(er.a,{color:"secondary"})))}(t)),r.a.createElement(Yn.a,{align:"center"},P(t)),r.a.createElement(Yn.a,{align:"center"},Object(Ce.a)(Object(Re.a)(t.updatedAt),"dd/MM/yy HH:mm")),r.a.createElement(Yn.a,{align:"center"},t.isDefault&&r.a.createElement("div",{className:e.customTableCell},r.a.createElement(tr.a,{style:{color:Ie.a[500]}}))),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){O(e),u(!0)}(t)}},r.a.createElement(ar.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(e){D("delete",t.id)}},r.a.createElement(nr.a,null))))})))))))},kr=Object(f.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center"},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)}}})),yr=function(){var e=kr(),t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/settings");case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),de(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("settings",(function(e){"update"===e.action&&c((function(t){var a=Object(se.a)(t),n=a.findIndex((function(t){return t.key===e.setting.key}));return a[n].value=e.setting.value,a}))})),function(){e.disconnect()}}),[]);var i,l=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n=t.target.name,e.prev=2,e.next=5,pe.put("/settings/".concat(n),{value:a});case 5:d.b.success(te.a.t("settings.success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),de(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.root},r.a.createElement(wt.a,{className:e.container,maxWidth:"sm"},r.a.createElement(x.a,{variant:"body2",gutterBottom:!0},te.a.t("settings.title")),r.a.createElement(Ct.a,{className:e.paper},r.a.createElement(x.a,{variant:"body1"},te.a.t("settings.settings.userCreation.name")),r.a.createElement(ut.a,{margin:"dense",variant:"outlined",native:!0,id:"userCreation-setting",name:"userCreation",value:o&&o.length>0&&(i="userCreation",o.find((function(e){return e.key===i})).value),className:e.settingOption,onChange:l},r.a.createElement("option",{value:"enabled"},te.a.t("settings.settings.userCreation.options.enabled")),r.a.createElement("option",{value:"disabled"},te.a.t("settings.settings.userCreation.options.disabled"))))))},jr=a(266),Cr=a.n(jr),wr=function(e,t){if("LOAD_USERS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(se.a)(e),n)}if("UPDATE_USERS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(se.a)(e)):[r].concat(Object(se.a)(e))}if("DELETE_USER"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(se.a)(e)}if("RESET"===t.type)return[]},Ar=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Tr=function(){var e=Ar(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),g=f[0],E=f[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),O=v[0],x=v[1],k=Object(n.useState)(null),y=Object(s.a)(k,2),j=y[0],C=y[1],w=Object(n.useState)(!1),A=Object(s.a)(w,2),T=A[0],S=A[1],N=Object(n.useState)(!1),R=Object(s.a)(N,2),I=R[0],M=R[1],D=Object(n.useState)(""),_=Object(s.a)(D,2),P=_[0],q=_[1],W=Object(n.useReducer)(wr,[]),L=Object(s.a)(W,2),B=L[0],F=L[1];Object(n.useEffect)((function(){F({type:"RESET"}),m(1)}),[P]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/users/",{params:{searchParam:P,pageNumber:u}});case 3:t=e.sent,a=t.data,F({type:"LOAD_USERS",payload:a.users}),E(a.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[P,u]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||F({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&F({type:"DELETE_USER",payload:+e.userId})})),function(){e.disconnect()}}),[]);var U=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/users/".concat(t));case 3:d.b.success(te.a.t("users.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:C(null),q(""),m(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(or,null,r.a.createElement(mn,{title:j&&"".concat(te.a.t("users.confirmationModal.deleteTitle")," ").concat(j.name,"?"),open:I,onClose:M,onConfirm:function(){return U(j.id)}},te.a.t("users.confirmationModal.deleteMessage")),r.a.createElement(vt,{open:T,onClose:function(){x(null),S(!1)},"aria-labelledby":"form-dialog-title",userId:O&&O.id}),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("users.title")),r.a.createElement(lr,null,r.a.createElement(ct.a,{placeholder:te.a.t("contacts.searchPlaceholder"),type:"search",value:P,onChange:function(e){q(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(Ut.a,{style:{color:"gray"}}))}}),r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){x(null),S(!0)}},te.a.t("users.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(g&&!o){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&m((function(e){return e+1}))}}},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{align:"center"},te.a.t("users.table.name")),r.a.createElement(Yn.a,{align:"center"},te.a.t("users.table.email")),r.a.createElement(Yn.a,{align:"center"},te.a.t("users.table.profile")),r.a.createElement(Yn.a,{align:"center"},te.a.t("users.table.actions")))),r.a.createElement(Jn.a,null,r.a.createElement(r.a.Fragment,null,B.map((function(e){return r.a.createElement(Kn.a,{key:e.id},r.a.createElement(Yn.a,{align:"center"},e.name),r.a.createElement(Yn.a,{align:"center"},e.email),r.a.createElement(Yn.a,{align:"center"},e.profile),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){x(e),S(!0)}(e)}},r.a.createElement(Cr.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(t){M(!0),C(e)}},r.a.createElement(ta.a,null))))})),o&&r.a.createElement(mr,{columns:4}))))))},Sr=function(e,t){if("LOAD_CONTACTS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(se.a)(e),n)}if("UPDATE_CONTACTS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(se.a)(e)):[r].concat(Object(se.a)(e))}if("DELETE_CONTACT"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(se.a)(e)}if("RESET"===t.type)return[]},Nr=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Rr=function(){var e=Nr(),t=Object(u.g)(),a=Object(n.useContext)(ve).user,o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],m=Object(n.useState)(1),p=Object(s.a)(m,2),f=p[0],g=p[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],O=h[1],x=Object(n.useReducer)(Sr,[]),k=Object(s.a)(x,2),y=k[0],j=k[1],C=Object(n.useState)(null),w=Object(s.a)(C,2),A=w[0],T=w[1],S=Object(n.useState)(!1),N=Object(s.a)(S,2),R=N[0],I=N[1],M=Object(n.useState)(null),D=Object(s.a)(M,2),_=D[0],P=D[1],q=Object(n.useState)(!1),L=Object(s.a)(q,2),B=L[0],F=L[1],U=Object(n.useState)(!1),z=Object(s.a)(U,2),Q=z[0],H=z[1];Object(n.useEffect)((function(){j({type:"RESET"}),g(1)}),[v]),Object(n.useEffect)((function(){l(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/contacts/",{params:{searchParam:v,pageNumber:f}});case 3:t=e.sent,a=t.data,j({type:"LOAD_CONTACTS",payload:a.contacts}),H(a.hasMore),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[v,f]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("contact",(function(e){"update"!==e.action&&"create"!==e.action||j({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&j({type:"DELETE_CONTACT",payload:+e.contactId})})),function(){e.disconnect()}}),[]);var G=function(){var e=Object(ie.a)(ce.a.mark((function e(n){var r,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.prev=3,e.next=6,pe.post("/tickets",{contactId:n,userId:null===a||void 0===a?void 0:a.id,status:"open"});case 6:r=e.sent,o=r.data,t.push("/tickets/".concat(o.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),de(e.t0);case 14:l(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/contacts/".concat(t));case 3:d.b.success(te.a.t("contacts.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:P(null),O(""),g(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.post("/contacts/import");case 3:t.go(0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(or,{className:e.mainContainer},r.a.createElement(ra,{open:R,onClose:function(){T(null),I(!1)},"aria-labelledby":"form-dialog-title",contactId:A}),r.a.createElement(mn,{title:_?"".concat(te.a.t("contacts.confirmationModal.deleteTitle")," ").concat(_.name,"?"):"".concat(te.a.t("contacts.confirmationModal.importTitlte")),open:B,onClose:F,onConfirm:function(e){return _?V(_.id):K()}},"".concat(_?te.a.t("contacts.confirmationModal.deleteMessage"):te.a.t("contacts.confirmationModal.importMessage"))),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("contacts.title")),r.a.createElement(lr,null,r.a.createElement(ct.a,{placeholder:te.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:function(e){O(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(Ut.a,{style:{color:"gray"}}))}}),r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(e){return F(!0)}},te.a.t("contacts.buttons.import")),r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){T(null),I(!0)}},te.a.t("contacts.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(Q&&!i){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&g((function(e){return e+1}))}}},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{padding:"checkbox"}),r.a.createElement(Yn.a,null,te.a.t("contacts.table.name")),r.a.createElement(Yn.a,{align:"center"},te.a.t("contacts.table.whatsapp")),r.a.createElement(Yn.a,{align:"center"},te.a.t("contacts.table.email")),r.a.createElement(Yn.a,{align:"center"},te.a.t("contacts.table.actions")))),r.a.createElement(Jn.a,null,r.a.createElement(r.a.Fragment,null,y.map((function(e){return r.a.createElement(Kn.a,{key:e.id},r.a.createElement(Yn.a,{style:{paddingRight:0}},r.a.createElement(De.a,{src:e.profilePicUrl})),r.a.createElement(Yn.a,null,e.name),r.a.createElement(Yn.a,{align:"center"},e.number),r.a.createElement(Yn.a,{align:"center"},e.email),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return G(e.id)}},r.a.createElement(W.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(){return t=e.id,T(t),void I(!0);var t}},r.a.createElement(Cr.a,null)),r.a.createElement(ke,{role:a.profile,perform:"contacts-page:deleteContact",yes:function(){return r.a.createElement(b.a,{size:"small",onClick:function(t){F(!0),P(e)}},r.a.createElement(ta.a,null))}})))})),i&&r.a.createElement(mr,{avatar:!0,columns:3}))))))},Ir=Object(f.a)((function(e){return{root:{flexWrap:"wrap"},textField:{marginRight:e.spacing(1),width:"100%"},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textQuickAnswerContainer:{width:"100%"}}})),Mr=tt.a().shape({shortcut:tt.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),message:tt.b().min(8,"Too Short!").max(3e4,"Too Long!").required("Required")}),Dr=function(e){var t=e.open,a=e.onClose,o=e.quickAnswerId,c=e.initialValues,i=e.onSave,l=Ir(),u=Object(n.useRef)(!0),m={shortcut:"",message:""},p=Object(n.useState)(m),f=Object(s.a)(p,2),g=f[0],b=f[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&b((function(e){return Object(ne.a)(Object(ne.a)({},e),c)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,pe.get("/quickAnswers/".concat(o));case 6:t=e.sent,a=t.data,u.current&&b(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),de(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,c]);var E=function(){a(),b(m)},h=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,pe.put("/quickAnswers/".concat(o),t);case 4:E(),e.next=13;break;case 7:return e.next=9,pe.post("/quickAnswers",t);case 9:a=e.sent,n=a.data,i&&i(n),E();case 13:d.b.success(te.a.t("quickAnswersModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),de(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(nt.a,{open:t,onClose:E,maxWidth:"sm",fullWidth:!0,scroll:"paper"},r.a.createElement(rt.a,{id:"form-dialog-title"},"".concat(o?te.a.t("quickAnswersModal.title.edit"):te.a.t("quickAnswersModal.title.add"))),r.a.createElement(at.d,{initialValues:g,enableReinitialize:!0,validationSchema:Mr,onSubmit:function(e,t){setTimeout((function(){h(e),t.setSubmitting(!1)}),400)}},(function(e){e.values;var t=e.errors,a=e.touched,n=e.isSubmitting;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement("div",{className:l.textQuickAnswerContainer},r.a.createElement(at.a,{as:ct.a,label:te.a.t("quickAnswersModal.form.shortcut"),name:"shortcut",autoFocus:!0,error:a.shortcut&&Boolean(t.shortcut),helperText:a.shortcut&&t.shortcut,variant:"outlined",margin:"dense",className:l.textField,fullWidth:!0})),r.a.createElement("div",{className:l.textQuickAnswerContainer},r.a.createElement(at.a,{as:ct.a,label:te.a.t("quickAnswersModal.form.message"),name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense",className:l.textField,multiline:!0,rows:5,fullWidth:!0}))),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},te.a.t("quickAnswersModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(o?te.a.t("quickAnswersModal.buttons.okEdit"):te.a.t("quickAnswersModal.buttons.okAdd")),n&&r.a.createElement(qe.a,{size:24,className:l.buttonProgress}))))}))))},_r=function(e,t){if("LOAD_QUICK_ANSWERS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(se.a)(e),n)}if("UPDATE_QUICK_ANSWERS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(se.a)(e)):[r].concat(Object(se.a)(e))}if("DELETE_QUICK_ANSWERS"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(se.a)(e)}if("RESET"===t.type)return[]},Pr=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),qr=function(){var e=Pr(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),g=f[0],E=f[1],h=Object(n.useReducer)(_r,[]),v=Object(s.a)(h,2),O=v[0],x=v[1],k=Object(n.useState)(null),y=Object(s.a)(k,2),j=y[0],C=y[1],w=Object(n.useState)(!1),A=Object(s.a)(w,2),T=A[0],S=A[1],N=Object(n.useState)(null),R=Object(s.a)(N,2),I=R[0],M=R[1],D=Object(n.useState)(!1),_=Object(s.a)(D,2),P=_[0],q=_[1],W=Object(n.useState)(!1),L=Object(s.a)(W,2),B=L[0],F=L[1];Object(n.useEffect)((function(){x({type:"RESET"}),m(1)}),[g]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){(function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("/quickAnswers/",{params:{searchParam:g,pageNumber:u}});case 3:t=e.sent,a=t.data,x({type:"LOAD_QUICK_ANSWERS",payload:a.quickAnswers}),F(a.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[g,u]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("quickAnswer",(function(e){"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_QUICK_ANSWERS",payload:e.quickAnswer}),"delete"===e.action&&x({type:"DELETE_QUICK_ANSWERS",payload:+e.quickAnswerId})})),function(){e.disconnect()}}),[]);var U=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/quickAnswers/".concat(t));case 3:d.b.success(te.a.t("quickAnswers.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:M(null),E(""),m(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(or,null,r.a.createElement(mn,{title:I&&"".concat(te.a.t("quickAnswers.confirmationModal.deleteTitle")," ").concat(I.shortcut,"?"),open:P,onClose:q,onConfirm:function(){return U(I.id)}},te.a.t("quickAnswers.confirmationModal.deleteMessage")),r.a.createElement(Dr,{open:T,onClose:function(){C(null),S(!1)},"aria-labelledby":"form-dialog-title",quickAnswerId:j&&j.id}),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("quickAnswers.title")),r.a.createElement(lr,null,r.a.createElement(ct.a,{placeholder:te.a.t("quickAnswers.searchPlaceholder"),type:"search",value:g,onChange:function(e){E(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(Ut.a,{style:{color:"gray"}}))}}),r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){C(null),S(!0)}},te.a.t("quickAnswers.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(B&&!o){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&m((function(e){return e+1}))}}},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{align:"center"},te.a.t("quickAnswers.table.shortcut")),r.a.createElement(Yn.a,{align:"center"},te.a.t("quickAnswers.table.message")),r.a.createElement(Yn.a,{align:"center"},te.a.t("quickAnswers.table.actions")))),r.a.createElement(Jn.a,null,r.a.createElement(r.a.Fragment,null,O.map((function(e){return r.a.createElement(Kn.a,{key:e.id},r.a.createElement(Yn.a,{align:"center"},e.shortcut),r.a.createElement(Yn.a,{align:"center"},e.message),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){C(e),S(!0)}(e)}},r.a.createElement(ar.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(t){q(!0),M(e)}},r.a.createElement(nr.a,null))))})),o&&r.a.createElement(mr,{columns:3}))))))},Wr=a(459),Lr=function(e){var t=e.onChange,a=e.currentColor,o=e.handleClose,c=e.open,i=Object(n.useState)(a),l=Object(s.a)(i,2),u=l[0],d=l[1];return r.a.createElement(nt.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:c,maxWidth:"xs",paperFullWidth:!0},r.a.createElement(Wr.a,{width:"100%",triangle:"hide",color:u,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:function(e){d(e.hex),o()},onChangeComplete:function(e){return t(e.hex)}}))},Br=a(830),Fr=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),Ur=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:tt.b().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:tt.b()}),zr=function(e){var t=e.open,a=e.onClose,o=e.queueId,c=Fr(),i={name:"",color:"",greetingMessage:""},l=Object(n.useState)(!1),u=Object(s.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)(i),g=Object(s.a)(f,2),E=g[0],h=g[1],v=Object(n.useRef)();Object(n.useEffect)((function(){return Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe.get("/queue/".concat(o));case 5:t=e.sent,a=t.data,h((function(e){return Object(ne.a)(Object(ne.a)({},e),a)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))(),function(){h({name:"",color:"",greetingMessage:""})}}),[o,t]);var O=function(){a(),h(i)},x=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return e.next=4,pe.put("/queue/".concat(o),t);case 4:e.next=8;break;case 6:return e.next=8,pe.post("/queue",t);case 8:d.b.success("Queue saved successfully"),O(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),de(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(nt.a,{open:t,onClose:O,scroll:"paper"},r.a.createElement(rt.a,null,"".concat(o?te.a.t("queueModal.title.edit"):te.a.t("queueModal.title.add"))),r.a.createElement(at.d,{initialValues:E,enableReinitialize:!0,validationSchema:Ur,onSubmit:function(e,t){setTimeout((function(){x(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,a=e.errors,n=e.isSubmitting,i=e.values;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement(at.a,{as:ct.a,label:te.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",className:c.textField}),r.a.createElement(at.a,{as:ct.a,label:te.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){p(!0),v.current.focus()},error:t.color&&Boolean(a.color),helperText:t.color&&a.color,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:r.a.createElement(b.a,{size:"small",color:"default",onClick:function(){return p(!0)}},r.a.createElement(Br.a,null))},variant:"outlined",margin:"dense"}),r.a.createElement(Lr,{open:m,handleClose:function(){return p(!1)},onChange:function(e){i.color=e,h((function(){return Object(ne.a)(Object(ne.a)({},i),{},{color:e})}))}}),r.a.createElement("div",null,r.a.createElement(at.a,{as:ct.a,label:te.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:v,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(a.greetingMessage),helperText:t.greetingMessage&&a.greetingMessage,variant:"outlined",margin:"dense"}))),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:O,color:"secondary",disabled:n,variant:"outlined"},te.a.t("queueModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?te.a.t("queueModal.buttons.okEdit"):te.a.t("queueModal.buttons.okAdd")),n&&r.a.createElement(qe.a,{size:24,className:c.buttonProgress}))))}))))},Qr=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Hr=function(e,t){if("LOAD_QUEUES"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(se.a)(e),n)}if("UPDATE_QUEUES"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(se.a)(e)):[r].concat(Object(se.a)(e))}if("DELETE_QUEUE"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(se.a)(e)}if("RESET"===t.type)return[]},Gr=function(){var e=Qr(),t=Object(n.useReducer)(Hr,[]),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),g=f[0],E=f[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),O=v[0],k=v[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),C=j[0],w=j[1];Object(n.useEffect)((function(){Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,pe.get("/queue");case 4:t=e.sent,a=t.data,c({type:"LOAD_QUEUES",payload:a}),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),de(e.t0),m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("queue",(function(e){"update"!==e.action&&"create"!==e.action||c({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&c({type:"DELETE_QUEUE",payload:e.queueId})})),function(){e.disconnect()}}),[]);var A=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/queue/".concat(t));case 3:d.b.success(te.a.t("Queue deleted successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:k(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(or,null,r.a.createElement(mn,{title:O&&"".concat(te.a.t("queues.confirmationModal.deleteTitle")," ").concat(O.name,"?"),open:C,onClose:function(){w(!1),k(null)},onConfirm:function(){return A(O.id)}},te.a.t("queues.confirmationModal.deleteMessage")),r.a.createElement(zr,{open:g,onClose:function(){E(!1),k(null)},queueId:null===O||void 0===O?void 0:O.id}),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("queues.title")),r.a.createElement(lr,null,r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){E(!0),k(null)}},te.a.t("queues.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined"},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{align:"center"},te.a.t("queues.table.name")),r.a.createElement(Yn.a,{align:"center"},te.a.t("queues.table.color")),r.a.createElement(Yn.a,{align:"center"},te.a.t("queues.table.greeting")),r.a.createElement(Yn.a,{align:"center"},te.a.t("queues.table.actions")))),r.a.createElement(Jn.a,null,r.a.createElement(r.a.Fragment,null,o.map((function(t){return r.a.createElement(Kn.a,{key:t.id},r.a.createElement(Yn.a,{align:"center"},t.name),r.a.createElement(Yn.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),r.a.createElement(Yn.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement(x.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){k(e),E(!0)}(t)}},r.a.createElement(ar.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(){k(t),w(!0)}},r.a.createElement(nr.a,null))))})),u&&r.a.createElement(mr,{columns:4}))))))},Vr=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Ie.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),Kr=tt.a().shape({name:tt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:tt.b().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:tt.b()}),Yr=function(e){var t=e.open,a=e.onClose,o=e.queueId,c=Vr(),i={name:"",color:"",greetingMessage:""},l=Object(n.useState)(i),u=Object(s.a)(l,2),m=u[0],p=u[1],f=Object(n.useRef)();Object(n.useEffect)((function(){return Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe.get("/queue/".concat(o));case 5:t=e.sent,a=t.data,p((function(e){return Object(ne.a)(Object(ne.a)({},e),a)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),de(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))(),function(){p({name:"",color:"",greetingMessage:""})}}),[o,t]);var g=function(){a(),p(i)},b=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return e.next=4,pe.put("/queue/".concat(o),t);case 4:e.next=8;break;case 6:return e.next=8,pe.post("/queue",t);case 8:d.b.success("Queue saved successfully"),g(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),de(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(nt.a,{open:t,onClose:g,scroll:"paper"},r.a.createElement(rt.a,null,"".concat(o?te.a.t("campaignModal.title.edit"):te.a.t("campaignModal.title.add"))),r.a.createElement(at.d,{initialValues:m,enableReinitialize:!0,validationSchema:Kr,onSubmit:function(e,t){setTimeout((function(){b(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,a=e.errors,n=e.isSubmitting;e.values;return r.a.createElement(at.c,null,r.a.createElement(ot.a,{dividers:!0},r.a.createElement(at.a,{as:ct.a,label:te.a.t("campaignModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",className:c.textField}),r.a.createElement(at.a,{as:ct.a,label:te.a.t("campaignModal.form.conextion"),name:"conextion",id:"conextion",className:c.textField,variant:"outlined",margin:"dense"}),r.a.createElement("div",null,r.a.createElement(at.a,{as:ct.a,label:te.a.t("campaignModal.form.message"),type:"greetingMessage",multiline:!0,inputRef:f,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(a.greetingMessage),helperText:t.greetingMessage&&a.greetingMessage,variant:"outlined",margin:"dense"}))),r.a.createElement(dt.a,null,r.a.createElement(Pe.a,{onClick:g,color:"secondary",disabled:n,variant:"outlined"},te.a.t("queueModal.buttons.cancel")),r.a.createElement(Pe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?te.a.t("queueModal.buttons.okEdit"):te.a.t("queueModal.buttons.okAdd")),n&&r.a.createElement(qe.a,{size:24,className:c.buttonProgress}))))}))))},Jr=Object(f.a)((function(e){return{mainPaper:Object(ne.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Xr=function(e,t){if("LOAD_QUEUES"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(se.a)(e),n)}if("UPDATE_QUEUES"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(se.a)(e)):[r].concat(Object(se.a)(e))}if("DELETE_QUEUE"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(se.a)(e)}if("RESET"===t.type)return[]},Zr=function(){var e=Jr(),t=Object(n.useReducer)(Xr,[]),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),g=f[0],E=f[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),O=v[0],k=v[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),C=j[0],w=j[1];Object(n.useEffect)((function(){Object(ie.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,pe.get("/queue");case 4:t=e.sent,a=t.data,c({type:"LOAD_QUEUES",payload:a}),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),de(e.t0),m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var e=ue()("http://18.224.202.185:8080/");return e.on("queue",(function(e){"update"!==e.action&&"create"!==e.action||c({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&c({type:"DELETE_QUEUE",payload:e.queueId})})),function(){e.disconnect()}}),[]);var A=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete("/queue/".concat(t));case 3:d.b.success(te.a.t("Queue deleted successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),de(e.t0);case 9:k(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(or,null,r.a.createElement(mn,{title:O&&"".concat(te.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(O.name,"?"),open:C,onClose:function(){w(!1),k(null)},onConfirm:function(){return A(O.id)}},te.a.t("campaigns.confirmationModal.deleteMessage")),r.a.createElement(Yr,{open:g,onClose:function(){E(!1),k(null)},queueId:null===O||void 0===O?void 0:O.id}),r.a.createElement(ir,null,r.a.createElement(ur,null,te.a.t("campaigns.title")),r.a.createElement(lr,null,r.a.createElement(Pe.a,{variant:"contained",color:"primary",onClick:function(){E(!0),k(null)}},te.a.t("campaigns.buttons.add")))),r.a.createElement(Ct.a,{className:e.mainPaper,variant:"outlined"},r.a.createElement(Gn.a,{size:"small"},r.a.createElement(Vn.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Yn.a,{align:"center"},te.a.t("campaigns.table.name")),r.a.createElement(Yn.a,{align:"center"},te.a.t("campaigns.table.status")),r.a.createElement(Yn.a,{align:"center"},te.a.t("campaigns.table.createdAt")),r.a.createElement(Yn.a,{align:"center"},te.a.t("campaigns.table.progress")),r.a.createElement(Yn.a,{align:"center"},te.a.t("campaigns.table.actions")))),r.a.createElement(Jn.a,null,r.a.createElement(r.a.Fragment,null,o.map((function(t){return r.a.createElement(Kn.a,{key:t.id},r.a.createElement(Yn.a,{align:"center"},t.name),r.a.createElement(Yn.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),r.a.createElement(Yn.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement(x.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),r.a.createElement(Yn.a,{align:"center"},r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){k(e),E(!0)}(t)}},r.a.createElement(ar.a,null)),r.a.createElement(b.a,{size:"small",onClick:function(){k(t),w(!0)}},r.a.createElement(nr.a,null))))})),u&&r.a.createElement(mr,{columns:4}))))))},$r=["component","isPrivate"],eo=function(e){var t=e.component,a=e.isPrivate,o=void 0!==a&&a,c=Object(_e.a)(e,$r),i=Object(n.useContext)(ve),s=i.isAuth,l=i.loading;return!s&&o?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(kt,null),r.a.createElement(u.a,{to:{pathname:"/login",state:{from:c.location}}})):s&&!o?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(kt,null),r.a.createElement(u.a,{to:{pathname:"/",state:{from:c.location}}}),";"):r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(kt,null),r.a.createElement(u.b,Object.assign({},c,{component:t})))},to=function(){return r.a.createElement(l.a,null,r.a.createElement(Oe,null,r.a.createElement(u.d,null,r.a.createElement(eo,{exact:!0,path:"/login",component:Hn}),r.a.createElement(eo,{exact:!0,path:"/signup",component:zn}),r.a.createElement(Ee,null,r.a.createElement(jt,null,r.a.createElement(eo,{exact:!0,path:"/",component:Bt,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/tickets/:ticketId?",component:Wn,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/connections",component:xr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/contacts",component:Rr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/users",component:Tr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/quickAnswers",component:qr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/Settings",component:yr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/Queues",component:Gr,isPrivate:!0}),r.a.createElement(eo,{exact:!0,path:"/Campaigns",component:Zr,isPrivate:!0})))),r.a.createElement(d.a,{autoClose:3e3})))},ao=(a(723),a(461)),no=a(831),ro=a(458),oo=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(ao.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},palette:{primary:{main:"#128C7E",background:{default:"#23343E"}},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}},a);return Object(n.useEffect)((function(){var e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&o(ro.ptBR)}),[]),r.a.createElement(no.a,{theme:c},r.a.createElement(to,null))};c.a.render(r.a.createElement(i.a,null,r.a.createElement(oo,null)),document.getElementById("root"))}},[[495,1,2]]]);
//# sourceMappingURL=main.733f1e15.chunk.js.map